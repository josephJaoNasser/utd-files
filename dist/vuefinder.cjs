"use strict";var gr=Object.defineProperty;var br=(n,e,t)=>e in n?gr(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t;var Vs=(n,e,t)=>br(n,typeof e!="symbol"?e+"":e,t);Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const d=require("vue"),wr=require("mitt"),yr=require("dragselect"),Cr=require("@uppy/core"),Sr=require("@uppy/xhr-upload"),xr=require("vanilla-lazyload");require("cropperjs/dist/cropper.css");require("cropperjs");var Js;const zt=(Js=document.querySelector('meta[name="csrf-token"]'))==null?void 0:Js.getAttribute("content");class kr{constructor(e){Vs(this,"config");this.config=e}get config(){return this.config}transformRequestParams(e){const t=this.config,s={};zt!=null&&zt!==""&&(s[t.xsrfHeaderName]=zt);const r=Object.assign({},t.headers,s,e.headers),a=Object.assign({},t.params,e.params),o=e.body,c=t.baseUrl+e.url,i=e.method;let u;i!=="get"&&(o instanceof FormData?(u=o,t.body!=null&&Object.entries(this.config.body).forEach(([l,f])=>{u.append(l,f)})):(u={...o},t.body!=null&&Object.assign(u,this.config.body)));const _={url:c,method:i,headers:r,params:a,body:u};if(t.transformRequest!=null){const l=t.transformRequest({url:c,method:i,headers:r,params:a,body:u});l.url!=null&&(_.url=l.url),l.method!=null&&(_.method=l.method),l.params!=null&&(_.params=l.params??{}),l.headers!=null&&(_.headers=l.headers??{}),l.body!=null&&(_.body=l.body)}return _}getDownloadUrl(e,t){if(t.url!=null)return t.url;const s=this.transformRequestParams({url:"",method:"get",params:{q:"download",adapter:e,path:t.path}});return s.url+"?"+new URLSearchParams(s.params).toString()}getPreviewUrl(e,t){if(t.url!=null)return t.url;const s=this.transformRequestParams({url:"",method:"get",params:{q:"preview",adapter:e,path:t.path}});return s.url+"?"+new URLSearchParams(s.params).toString()}async send(e){const t=this.transformRequestParams(e),s=e.responseType||"json",r={method:e.method,headers:t.headers,signal:e.abortSignal},a=t.url+"?"+new URLSearchParams(t.params);if(t.method!=="get"&&t.body!=null){let c;t.body instanceof FormData?c=e.body:(c=JSON.stringify(t.body),r.headers["Content-Type"]="application/json"),r.body=c}const o=await fetch(a,r);if(o.ok)return await o[s]();throw await o.json()}async getPinnedFolders(){return(await this.send({method:"get",url:"/pinned-folders"})).map(t=>JSON.parse(t.folder_data))}async pinFolder(e){await this.send({method:"post",url:"/pinned-folders",headers:{"Content-Type":"application/json"},body:{folders:JSON.parse(JSON.stringify(e))}})}async unpinFolder(e){await this.send({method:"delete",url:"/pinned-folders",headers:{"Content-Type":"application/json"},body:{path:e.path}})}}function Er(n){const e={baseUrl:"",headers:{},params:{},body:{},xsrfHeaderName:"X-CSRF-Token"};return typeof n=="string"?Object.assign(e,{baseUrl:n}):Object.assign(e,n),new kr(e)}function $r(n){let e=localStorage.getItem(n+"_storage");const t=d.reactive(JSON.parse(e??"{}"));d.watch(t,s);function s(){Object.keys(t).length?localStorage.setItem(n+"_storage",JSON.stringify(t)):localStorage.removeItem(n+"_storage")}function r(i,u){t[i]=u}function a(i){delete t[i]}function o(){Object.keys(t).map(i=>a(i))}return{getStore:(i,u=null)=>t.hasOwnProperty(i)?t[i]:u,setStore:r,removeStore:a,clearStore:o}}async function Mr(n,e){const t=e[n];return typeof t=="function"?(await t()).default:t}function Ar(n,e,t,s){const{getStore:r,setStore:a}=n,o=d.ref({}),c=d.ref(r("locale",e)),i=(l,f=e)=>{Mr(l,s).then(m=>{o.value=m,a("locale",l),c.value=l,a("translations",m),Object.values(s).length>1&&(t.emit("vf-toast-push",{label:"The language is set to "+l}),t.emit("vf-language-saved"))}).catch(m=>{f?(t.emit("vf-toast-push",{label:"The selected locale is not yet supported!",type:"error"}),i(f,null)):t.emit("vf-toast-push",{label:"Locale cannot be loaded!",type:"error"})})};d.watch(c,l=>{i(l)}),!r("locale")&&!s.length?i(e):o.value=r("translations");const u=(l,...f)=>f.length?u(l=l.replace("%s",f.shift()),...f):l;function _(l,...f){return o.value&&o.value.hasOwnProperty(l)?u(o.value[l],...f):u(l,...f)}return d.reactive({t:_,locale:c})}const _e={EDIT:"edit",NEW_FILE:"newfile",NEW_FOLDER:"newfolder",PREVIEW:"preview",ARCHIVE:"archive",UNARCHIVE:"unarchive",SEARCH:"search",RENAME:"rename",UPLOAD:"upload",DELETE:"delete",FULL_SCREEN:"fullscreen",DOWNLOAD:"download",LANGUAGE:"language"},Tr=Object.values(_e),Fr="2.5.16";function en(n,e,t,s,r){return(e=Math,t=e.log,s=1024,r=t(n)/t(s)|0,n/e.pow(s,r)).toFixed(0)+" "+(r?"KMGTPEZY"[--r]+"iB":"B")}function tn(n,e,t,s,r){return(e=Math,t=e.log,s=1e3,r=t(n)/t(s)|0,n/e.pow(s,r)).toFixed(0)+" "+(r?"KMGTPEZY"[--r]+"B":"B")}function Vr(n){const e={k:1,m:2,g:3,t:4},s=/(\d+(?:\.\d+)?)\s?(k|m|g|t)?b?/i.exec(n);return s[1]*Math.pow(1024,e[s[2].toLowerCase()])}const Ie={SYSTEM:"system",LIGHT:"light",DARK:"dark"};function Dr(n,e){const t=d.ref(Ie.SYSTEM),s=d.ref(Ie.LIGHT);t.value=n.getStore("theme",e??Ie.SYSTEM);const r=window.matchMedia("(prefers-color-scheme: dark)"),a=o=>{t.value===Ie.DARK||t.value===Ie.SYSTEM&&o.matches?s.value=Ie.DARK:s.value=Ie.LIGHT};return a(r),r.addEventListener("change",a),{value:t,actualValue:s,set(o){t.value=o,o!==Ie.SYSTEM?n.setStore("theme",o):n.removeStore("theme"),a(r)}}}function Or(){const n=d.shallowRef(null),e=d.ref(!1),t=d.ref();return{visible:e,type:n,data:t,open:(a,o=null)=>{document.querySelector("body").style.overflow="hidden",e.value=!0,n.value=a,t.value=o},close:()=>{document.querySelector("body").style.overflow="",e.value=!1,n.value=null}}}/*!
 * OverlayScrollbars
 * Version: 2.10.0
 *
 * Copyright (c) Rene Haas | KingSora.
 * https://github.com/KingSora
 *
 * Released under the MIT license.
 */const me=(n,e)=>{const{o:t,i:s,u:r}=n;let a=t,o;const c=(_,l)=>{const f=a,m=_,v=l||(s?!s(f,m):f!==m);return(v||r)&&(a=m,o=f),[a,v,o]};return[e?_=>c(e(a,o),_):c,_=>[a,!!_,o]]},Lr=typeof window<"u"&&typeof HTMLElement<"u"&&!!window.document,pe=Lr?window:{},sn=Math.max,Rr=Math.min,Qt=Math.round,xt=Math.abs,Ds=Math.sign,nn=pe.cancelAnimationFrame,_s=pe.requestAnimationFrame,kt=pe.setTimeout,Xt=pe.clearTimeout,Vt=n=>typeof pe[n]<"u"?pe[n]:void 0,Ir=Vt("MutationObserver"),Os=Vt("IntersectionObserver"),Et=Vt("ResizeObserver"),wt=Vt("ScrollTimeline"),vs=n=>n===void 0,Dt=n=>n===null,Ee=n=>typeof n=="number",ct=n=>typeof n=="string",fs=n=>typeof n=="boolean",ye=n=>typeof n=="function",$e=n=>Array.isArray(n),$t=n=>typeof n=="object"&&!$e(n)&&!Dt(n),ps=n=>{const e=!!n&&n.length,t=Ee(e)&&e>-1&&e%1==0;return $e(n)||!ye(n)&&t?e>0&&$t(n)?e-1 in n:!0:!1},Mt=n=>!!n&&n.constructor===Object,At=n=>n instanceof HTMLElement,Ot=n=>n instanceof Element;function Q(n,e){if(ps(n))for(let t=0;t<n.length&&e(n[t],t,n)!==!1;t++);else n&&Q(Object.keys(n),t=>e(n[t],t,n));return n}const rn=(n,e)=>n.indexOf(e)>=0,at=(n,e)=>n.concat(e),se=(n,e,t)=>(!ct(e)&&ps(e)?Array.prototype.push.apply(n,e):n.push(e),n),Ne=n=>Array.from(n||[]),ms=n=>$e(n)?n:!ct(n)&&ps(n)?Ne(n):[n],Zt=n=>!!n&&!n.length,Jt=n=>Ne(new Set(n)),be=(n,e,t)=>{Q(n,r=>r?r.apply(void 0,e||[]):!0),!t&&(n.length=0)},an="paddingTop",on="paddingRight",cn="paddingLeft",ln="paddingBottom",dn="marginLeft",un="marginRight",_n="marginBottom",vn="overflowX",fn="overflowY",Lt="width",Rt="height",Be="visible",qe="hidden",Xe="scroll",Br=n=>{const e=String(n||"");return e?e[0].toUpperCase()+e.slice(1):""},It=(n,e,t,s)=>{if(n&&e){let r=!0;return Q(t,a=>{const o=n[a],c=e[a];o!==c&&(r=!1)}),r}return!1},pn=(n,e)=>It(n,e,["w","h"]),yt=(n,e)=>It(n,e,["x","y"]),Pr=(n,e)=>It(n,e,["t","r","b","l"]),Ge=()=>{},U=(n,...e)=>n.bind(0,...e),We=n=>{let e;const t=n?kt:_s,s=n?Xt:nn;return[r=>{s(e),e=t(()=>r(),ye(n)?n():n)},()=>s(e)]},es=(n,e)=>{const{_:t,v:s,p:r,S:a}=e||{};let o,c,i,u,_=Ge;const l=function(p){_(),Xt(o),u=o=c=void 0,_=Ge,n.apply(this,p)},f=h=>a&&c?a(c,h):h,m=()=>{_!==Ge&&l(f(i)||i)},v=function(){const p=Ne(arguments),C=ye(t)?t():t;if(Ee(C)&&C>=0){const B=ye(s)?s():s,k=Ee(B)&&B>=0,O=C>0?kt:_s,E=C>0?Xt:nn,S=f(p)||p,F=l.bind(0,S);let w;_(),r&&!u?(F(),u=!0,w=O(()=>u=void 0,C)):(w=O(F,C),k&&!o&&(o=kt(m,B))),_=()=>E(w),c=i=S}else l(p)};return v.m=m,v},mn=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),Ce=n=>n?Object.keys(n):[],Y=(n,e,t,s,r,a,o)=>{const c=[e,t,s,r,a,o];return(typeof n!="object"||Dt(n))&&!ye(n)&&(n={}),Q(c,i=>{Q(i,(u,_)=>{const l=i[_];if(n===l)return!0;const f=$e(l);if(l&&Mt(l)){const m=n[_];let v=m;f&&!$e(m)?v=[]:!f&&!Mt(m)&&(v={}),n[_]=Y(v,l)}else n[_]=f?l.slice():l})}),n},hn=(n,e)=>Q(Y({},n),(t,s,r)=>{t===void 0?delete r[s]:t&&Mt(t)&&(r[s]=hn(t))}),hs=n=>!Ce(n).length,gn=(n,e,t)=>sn(n,Rr(e,t)),je=n=>Jt(($e(n)?n:(n||"").split(" ")).filter(e=>e)),gs=(n,e)=>n&&n.getAttribute(e),Ls=(n,e)=>n&&n.hasAttribute(e),Ve=(n,e,t)=>{Q(je(e),s=>{n&&n.setAttribute(s,String(t||""))})},xe=(n,e)=>{Q(je(e),t=>n&&n.removeAttribute(t))},Bt=(n,e)=>{const t=je(gs(n,e)),s=U(Ve,n,e),r=(a,o)=>{const c=new Set(t);return Q(je(a),i=>{c[o](i)}),Ne(c).join(" ")};return{O:a=>s(r(a,"delete")),$:a=>s(r(a,"add")),C:a=>{const o=je(a);return o.reduce((c,i)=>c&&t.includes(i),o.length>0)}}},bn=(n,e,t)=>(Bt(n,e).O(t),U(bs,n,e,t)),bs=(n,e,t)=>(Bt(n,e).$(t),U(bn,n,e,t)),Tt=(n,e,t,s)=>(s?bs:bn)(n,e,t),ws=(n,e,t)=>Bt(n,e).C(t),wn=n=>Bt(n,"class"),yn=(n,e)=>{wn(n).O(e)},ys=(n,e)=>(wn(n).$(e),U(yn,n,e)),Cn=(n,e)=>{const t=e?Ot(e)&&e:document;return t?Ne(t.querySelectorAll(n)):[]},Nr=(n,e)=>{const t=e?Ot(e)&&e:document;return t&&t.querySelector(n)},ts=(n,e)=>Ot(n)&&n.matches(e),Sn=n=>ts(n,"body"),ss=n=>n?Ne(n.childNodes):[],ot=n=>n&&n.parentElement,Ke=(n,e)=>Ot(n)&&n.closest(e),ns=n=>document.activeElement,Hr=(n,e,t)=>{const s=Ke(n,e),r=n&&Nr(t,s),a=Ke(r,e)===s;return s&&r?s===n||r===n||a&&Ke(Ke(n,t),e)!==s:!1},Ze=n=>{Q(ms(n),e=>{const t=ot(e);e&&t&&t.removeChild(e)})},he=(n,e)=>U(Ze,n&&e&&Q(ms(e),t=>{t&&n.appendChild(t)})),Ye=n=>{const e=document.createElement("div");return Ve(e,"class",n),e},xn=n=>{const e=Ye();return e.innerHTML=n.trim(),Q(ss(e),t=>Ze(t))},Rs=(n,e)=>n.getPropertyValue(e)||n[e]||"",kn=n=>{const e=n||0;return isFinite(e)?e:0},gt=n=>kn(parseFloat(n||"")),rs=n=>Math.round(n*1e4)/1e4,En=n=>`${rs(kn(n))}px`;function it(n,e){n&&e&&Q(e,(t,s)=>{try{const r=n.style,a=Dt(t)||fs(t)?"":Ee(t)?En(t):t;s.indexOf("--")===0?r.setProperty(s,a):r[s]=a}catch{}})}function Oe(n,e,t){const s=ct(e);let r=s?"":{};if(n){const a=pe.getComputedStyle(n,t)||n.style;r=s?Rs(a,e):Ne(e).reduce((o,c)=>(o[c]=Rs(a,c),o),r)}return r}const Is=(n,e,t)=>{const s=e?`${e}-`:"",r=t?`-${t}`:"",a=`${s}top${r}`,o=`${s}right${r}`,c=`${s}bottom${r}`,i=`${s}left${r}`,u=Oe(n,[a,o,c,i]);return{t:gt(u[a]),r:gt(u[o]),b:gt(u[c]),l:gt(u[i])}},Ur=(n,e)=>`translate${$t(n)?`(${n.x},${n.y})`:`Y(${n})`}`,qr=n=>!!(n.offsetWidth||n.offsetHeight||n.getClientRects().length),Gr={w:0,h:0},Pt=(n,e)=>e?{w:e[`${n}Width`],h:e[`${n}Height`]}:Gr,jr=n=>Pt("inner",n||pe),Qe=U(Pt,"offset"),$n=U(Pt,"client"),Ft=U(Pt,"scroll"),Cs=n=>{const e=parseFloat(Oe(n,Lt))||0,t=parseFloat(Oe(n,Rt))||0;return{w:e-Qt(e),h:t-Qt(t)}},Wt=n=>n.getBoundingClientRect(),zr=n=>!!n&&qr(n),as=n=>!!(n&&(n[Rt]||n[Lt])),Mn=(n,e)=>{const t=as(n);return!as(e)&&t},Bs=(n,e,t,s)=>{Q(je(e),r=>{n&&n.removeEventListener(r,t,s)})},J=(n,e,t,s)=>{var r;const a=(r=s&&s.H)!=null?r:!0,o=s&&s.I||!1,c=s&&s.A||!1,i={passive:a,capture:o};return U(be,je(e).map(u=>{const _=c?l=>{Bs(n,u,_,o),t&&t(l)}:t;return n&&n.addEventListener(u,_,i),U(Bs,n,u,_,o)}))},An=n=>n.stopPropagation(),os=n=>n.preventDefault(),Tn=n=>An(n)||os(n),ke=(n,e)=>{const{x:t,y:s}=Ee(e)?{x:e,y:e}:e||{};Ee(t)&&(n.scrollLeft=t),Ee(s)&&(n.scrollTop=s)},ge=n=>({x:n.scrollLeft,y:n.scrollTop}),Fn=()=>({D:{x:0,y:0},M:{x:0,y:0}}),Wr=(n,e)=>{const{D:t,M:s}=n,{w:r,h:a}=e,o=(l,f,m)=>{let v=Ds(l)*m,h=Ds(f)*m;if(v===h){const p=xt(l),C=xt(f);h=p>C?0:h,v=p<C?0:v}return v=v===h?0:v,[v+0,h+0]},[c,i]=o(t.x,s.x,r),[u,_]=o(t.y,s.y,a);return{D:{x:c,y:u},M:{x:i,y:_}}},Ps=({D:n,M:e})=>{const t=(s,r)=>s===0&&s<=r;return{x:t(n.x,e.x),y:t(n.y,e.y)}},Ns=({D:n,M:e},t)=>{const s=(r,a,o)=>gn(0,1,(r-o)/(r-a)||0);return{x:s(n.x,e.x,t.x),y:s(n.y,e.y,t.y)}},is=n=>{n&&n.focus&&n.focus({preventScroll:!0})},Hs=(n,e)=>{Q(ms(e),n)},cs=n=>{const e=new Map,t=(a,o)=>{if(a){const c=e.get(a);Hs(i=>{c&&c[i?"delete":"clear"](i)},o)}else e.forEach(c=>{c.clear()}),e.clear()},s=(a,o)=>{if(ct(a)){const u=e.get(a)||new Set;return e.set(a,u),Hs(_=>{ye(_)&&u.add(_)},o),U(t,a,o)}fs(o)&&o&&t();const c=Ce(a),i=[];return Q(c,u=>{const _=a[u];_&&se(i,s(u,_))}),U(be,i)},r=(a,o)=>{Q(Ne(e.get(a)),c=>{o&&!Zt(o)?c.apply(0,o):c()})};return s(n||{}),[s,t,r]},Us=n=>JSON.stringify(n,(e,t)=>{if(ye(t))throw 0;return t}),qs=(n,e)=>n?`${e}`.split(".").reduce((t,s)=>t&&mn(t,s)?t[s]:void 0,n):void 0,Kr={paddingAbsolute:!1,showNativeOverlaidScrollbars:!1,update:{elementEvents:[["img","load"]],debounce:[0,33],attributes:null,ignoreMutation:null},overflow:{x:"scroll",y:"scroll"},scrollbars:{theme:"os-theme-dark",visibility:"auto",autoHide:"never",autoHideDelay:1300,autoHideSuspend:!1,dragScroll:!0,clickScroll:!1,pointers:["mouse","touch","pen"]}},Vn=(n,e)=>{const t={},s=at(Ce(e),Ce(n));return Q(s,r=>{const a=n[r],o=e[r];if($t(a)&&$t(o))Y(t[r]={},Vn(a,o)),hs(t[r])&&delete t[r];else if(mn(e,r)&&o!==a){let c=!0;if($e(a)||$e(o))try{Us(a)===Us(o)&&(c=!1)}catch{}c&&(t[r]=o)}}),t},Gs=(n,e,t)=>s=>[qs(n,s),t||qs(e,s)!==void 0],et="data-overlayscrollbars",Ct="os-environment",bt=`${Ct}-scrollbar-hidden`,Kt=`${et}-initialize`,St="noClipping",js=`${et}-body`,Pe=et,Yr="host",De=`${et}-viewport`,Qr=vn,Xr=fn,Zr="arrange",Dn="measuring",Jr="scrolling",On="scrollbarHidden",ea="noContent",ls=`${et}-padding`,zs=`${et}-content`,Ss="os-size-observer",ta=`${Ss}-appear`,sa=`${Ss}-listener`,na="os-trinsic-observer",ra="os-theme-none",we="os-scrollbar",aa=`${we}-rtl`,oa=`${we}-horizontal`,ia=`${we}-vertical`,Ln=`${we}-track`,xs=`${we}-handle`,ca=`${we}-visible`,la=`${we}-cornerless`,Ws=`${we}-interaction`,Ks=`${we}-unusable`,ds=`${we}-auto-hide`,Ys=`${ds}-hidden`,Qs=`${we}-wheel`,da=`${Ln}-interactive`,ua=`${xs}-interactive`;let Rn;const _a=()=>Rn,va=n=>{Rn=n};let Yt;const fa=()=>{const n=(k,O,E)=>{he(document.body,k),he(document.body,k);const T=$n(k),S=Qe(k),F=Cs(O);return E&&Ze(k),{x:S.h-T.h+F.h,y:S.w-T.w+F.w}},e=k=>{let O=!1;const E=ys(k,bt);try{O=Oe(k,"scrollbar-width")==="none"||Oe(k,"display","::-webkit-scrollbar")==="none"}catch{}return E(),O},t=`.${Ct}{scroll-behavior:auto!important;position:fixed;opacity:0;visibility:hidden;overflow:scroll;height:200px;width:200px;z-index:-1}.${Ct} div{width:200%;height:200%;margin:10px 0}.${bt}{scrollbar-width:none!important}.${bt}::-webkit-scrollbar,.${bt}::-webkit-scrollbar-corner{appearance:none!important;display:none!important;width:0!important;height:0!important}`,r=xn(`<div class="${Ct}"><div></div><style>${t}</style></div>`)[0],a=r.firstChild,o=r.lastChild,c=_a();c&&(o.nonce=c);const[i,,u]=cs(),[_,l]=me({o:n(r,a),i:yt},U(n,r,a,!0)),[f]=l(),m=e(r),v={x:f.x===0,y:f.y===0},h={elements:{host:null,padding:!m,viewport:k=>m&&Sn(k)&&k,content:!1},scrollbars:{slot:!0},cancel:{nativeScrollbarsOverlaid:!1,body:null}},p=Y({},Kr),C=U(Y,{},p),$=U(Y,{},h),B={T:f,k:v,R:m,V:!!wt,L:U(i,"r"),U:$,P:k=>Y(h,k)&&$(),N:C,q:k=>Y(p,k)&&C(),B:Y({},h),F:Y({},p)};if(xe(r,"style"),Ze(r),J(pe,"resize",()=>{u("r",[])}),ye(pe.matchMedia)&&!m&&(!v.x||!v.y)){const k=O=>{const E=pe.matchMedia(`(resolution: ${pe.devicePixelRatio}dppx)`);J(E,"change",()=>{O(),k(O)},{A:!0})};k(()=>{const[O,E]=_();Y(B.T,O),u("r",[E])})}return B},Ae=()=>(Yt||(Yt=fa()),Yt),In=(n,e)=>ye(e)?e.apply(0,n):e,pa=(n,e,t,s)=>{const r=vs(s)?t:s;return In(n,r)||e.apply(0,n)},Bn=(n,e,t,s)=>{const r=vs(s)?t:s,a=In(n,r);return!!a&&(At(a)?a:e.apply(0,n))},ma=(n,e)=>{const{nativeScrollbarsOverlaid:t,body:s}=e||{},{k:r,R:a,U:o}=Ae(),{nativeScrollbarsOverlaid:c,body:i}=o().cancel,u=t??c,_=vs(s)?i:s,l=(r.x||r.y)&&u,f=n&&(Dt(_)?!a:_);return!!l||!!f},ks=new WeakMap,ha=(n,e)=>{ks.set(n,e)},ga=n=>{ks.delete(n)},Pn=n=>ks.get(n),ba=(n,e,t)=>{let s=!1;const r=t?new WeakMap:!1,a=()=>{s=!0},o=c=>{if(r&&t){const i=t.map(u=>{const[_,l]=u||[];return[l&&_?(c||Cn)(_,n):[],l]});Q(i,u=>Q(u[0],_=>{const l=u[1],f=r.get(_)||[];if(n.contains(_)&&l){const v=J(_,l,h=>{s?(v(),r.delete(_)):e(h)});r.set(_,se(f,v))}else be(f),r.delete(_)}))}};return o(),[a,o]},Xs=(n,e,t,s)=>{let r=!1;const{j:a,X:o,Y:c,W:i,J:u,G:_}=s||{},l=es(()=>r&&t(!0),{_:33,v:99}),[f,m]=ba(n,l,c),v=a||[],h=o||[],p=at(v,h),C=(B,k)=>{if(!Zt(k)){const O=u||Ge,E=_||Ge,T=[],S=[];let F=!1,w=!1;if(Q(k,y=>{const{attributeName:x,target:R,type:b,oldValue:L,addedNodes:D,removedNodes:G}=y,K=b==="attributes",z=b==="childList",ne=n===R,M=K&&x,A=M&&gs(R,x||""),V=ct(A)?A:null,I=M&&L!==V,g=rn(h,x)&&I;if(e&&(z||!ne)){const N=K&&I,P=N&&i&&ts(R,i),j=(P?!O(R,x,L,V):!K||N)&&!E(y,!!P,n,s);Q(D,X=>se(T,X)),Q(G,X=>se(T,X)),w=w||j}!e&&ne&&I&&!O(R,x,L,V)&&(se(S,x),F=F||g)}),m(y=>Jt(T).reduce((x,R)=>(se(x,Cn(y,R)),ts(R,y)?se(x,R):x),[])),e)return!B&&w&&t(!1),[!1];if(!Zt(S)||F){const y=[Jt(S),F];return!B&&t.apply(0,y),y}}},$=new Ir(U(C,!1));return[()=>($.observe(n,{attributes:!0,attributeOldValue:!0,attributeFilter:p,subtree:e,childList:e,characterData:e}),r=!0,()=>{r&&(f(),$.disconnect(),r=!1)}),()=>{if(r)return l.m(),C(!0,$.takeRecords())}]},Nn={},Hn={},wa=n=>{Q(n,e=>Q(e,(t,s)=>{Nn[s]=e[s]}))},Un=(n,e,t)=>Ce(n).map(s=>{const{static:r,instance:a}=n[s],[o,c,i]=t||[],u=t?a:r;if(u){const _=t?u(o,c,e):u(e);return(i||Hn)[s]=_}}),lt=n=>Hn[n],ya="__osOptionsValidationPlugin",Ca="__osSizeObserverPlugin",Sa=(n,e)=>{const{k:t}=e,[s,r]=n("showNativeOverlaidScrollbars");return[s&&t.x&&t.y,r]},Je=n=>n.indexOf(Be)===0,xa=(n,e)=>{const t=(r,a,o,c)=>{const i=r===Be?qe:r.replace(`${Be}-`,""),u=Je(r),_=Je(o);return!a&&!c?qe:u&&_?Be:u?a&&c?i:a?Be:qe:a?i:_&&c?Be:qe},s={x:t(e.x,n.x,e.y,n.y),y:t(e.y,n.y,e.x,n.x)};return{K:s,Z:{x:s.x===Xe,y:s.y===Xe}}},qn="__osScrollbarsHidingPlugin",ka="__osClickScrollPlugin",Gn=(n,e,t)=>{const{dt:s}=t||{},r=lt(Ca),[a]=me({o:!1,u:!0});return()=>{const o=[],i=xn(`<div class="${Ss}"><div class="${sa}"></div></div>`)[0],u=i.firstChild,_=l=>{const f=l instanceof ResizeObserverEntry;let m=!1,v=!1;if(f){const[h,,p]=a(l.contentRect),C=as(h);v=Mn(h,p),m=!v&&!C}else v=l===!0;m||e({ft:!0,dt:v})};if(Et){const l=new Et(f=>_(f.pop()));l.observe(u),se(o,()=>{l.disconnect()})}else if(r){const[l,f]=r(u,_,s);se(o,at([ys(i,ta),J(i,"animationstart",l)],f))}else return Ge;return U(be,se(o,he(n,i)))}},Ea=(n,e)=>{let t;const s=i=>i.h===0||i.isIntersecting||i.intersectionRatio>0,r=Ye(na),[a]=me({o:!1}),o=(i,u)=>{if(i){const _=a(s(i)),[,l]=_;return l&&!u&&e(_)&&[_]}},c=(i,u)=>o(u.pop(),i);return[()=>{const i=[];if(Os)t=new Os(U(c,!1),{root:n}),t.observe(r),se(i,()=>{t.disconnect()});else{const u=()=>{const _=Qe(r);o(_)};se(i,Gn(r,u)()),u()}return U(be,se(i,he(n,r)))},()=>t&&c(!0,t.takeRecords())]},$a=(n,e,t,s)=>{let r,a,o,c,i,u;const _=`[${Pe}]`,l=`[${De}]`,f=["id","class","style","open","wrap","cols","rows"],{vt:m,ht:v,ot:h,gt:p,bt:C,nt:$,wt:B,yt:k,St:O,Ot:E}=n,T=g=>Oe(g,"direction")==="rtl",S={$t:!1,ct:T(m)},F=Ae(),w=lt(qn),[y]=me({i:pn,o:{w:0,h:0}},()=>{const g=w&&w.tt(n,e,S,F,t).ut,P=!(B&&$)&&ws(v,Pe,St),H=!$&&k(Zr),j=H&&ge(p),X=j&&E(),ae=O(Dn,P),ee=H&&g&&g()[0],le=Ft(h),q=Cs(h);return ee&&ee(),ke(p,j),X&&X(),P&&ae(),{w:le.w+q.w,h:le.h+q.h}}),x=es(s,{_:()=>r,v:()=>a,S(g,N){const[P]=g,[H]=N;return[at(Ce(P),Ce(H)).reduce((j,X)=>(j[X]=P[X]||H[X],j),{})]}}),R=g=>{const N=T(m);Y(g,{Ct:u!==N}),Y(S,{ct:N}),u=N},b=(g,N)=>{const[P,H]=g,j={xt:H};return Y(S,{$t:P}),!N&&s(j),j},L=({ft:g,dt:N})=>{const H=!(g&&!N)&&F.R?x:s,j={ft:g||N,dt:N};R(j),H(j)},D=(g,N)=>{const[,P]=y(),H={Ht:P};return R(H),P&&!N&&(g?s:x)(H),H},G=(g,N,P)=>{const H={Et:N};return R(H),N&&!P&&x(H),H},[K,z]=C?Ea(v,b):[],ne=!$&&Gn(v,L,{dt:!0}),[M,A]=Xs(v,!1,G,{X:f,j:f}),V=$&&Et&&new Et(g=>{const N=g[g.length-1].contentRect;L({ft:!0,dt:Mn(N,i)}),i=N}),I=es(()=>{const[,g]=y();s({Ht:g})},{_:222,p:!0});return[()=>{V&&V.observe(v);const g=ne&&ne(),N=K&&K(),P=M(),H=F.L(j=>{j?x({zt:j}):I()});return()=>{V&&V.disconnect(),g&&g(),N&&N(),c&&c(),P(),H()}},({It:g,At:N,Dt:P})=>{const H={},[j]=g("update.ignoreMutation"),[X,ae]=g("update.attributes"),[ee,le]=g("update.elementEvents"),[q,de]=g("update.debounce"),ve=le||ae,ie=N||P,ue=re=>ye(j)&&j(re);if(ve){o&&o(),c&&c();const[re,oe]=Xs(C||h,!0,D,{j:at(f,X||[]),Y:ee,W:_,G:(Z,te)=>{const{target:ce,attributeName:fe}=Z;return(!te&&fe&&!$?Hr(ce,_,l):!1)||!!Ke(ce,`.${we}`)||!!ue(Z)}});c=re(),o=oe}if(de)if(x.m(),$e(q)){const re=q[0],oe=q[1];r=Ee(re)&&re,a=Ee(oe)&&oe}else Ee(q)?(r=q,a=!1):(r=!1,a=!1);if(ie){const re=A(),oe=z&&z(),Z=o&&o();re&&Y(H,G(re[0],re[1],ie)),oe&&Y(H,b(oe[0],ie)),Z&&Y(H,D(Z[0],ie))}return R(H),H},S]},Ma=(n,e,t,s)=>{const r="--os-viewport-percent",a="--os-scroll-percent",o="--os-scroll-direction",{U:c}=Ae(),{scrollbars:i}=c(),{slot:u}=i,{vt:_,ht:l,ot:f,Mt:m,gt:v,wt:h,nt:p}=e,{scrollbars:C}=m?{}:n,{slot:$}=C||{},B=[],k=[],O=[],E=Bn([_,l,f],()=>p&&h?_:l,u,$),T=M=>{if(wt){const A=new wt({source:v,axis:M});return{kt:I=>{const g=I.Tt.animate({clear:["left"],[a]:[0,1]},{timeline:A});return()=>g.cancel()}}}},S={x:T("x"),y:T("y")},F=()=>{const{Rt:M,Vt:A}=t,V=(I,g)=>gn(0,1,I/(I+g)||0);return{x:V(A.x,M.x),y:V(A.y,M.y)}},w=(M,A,V)=>{const I=V?ys:yn;Q(M,g=>{I(g.Tt,A)})},y=(M,A)=>{Q(M,V=>{const[I,g]=A(V);it(I,g)})},x=(M,A,V)=>{const I=fs(V),g=I?V:!0,N=I?!V:!0;g&&w(k,M,A),N&&w(O,M,A)},R=()=>{const M=F(),A=V=>I=>[I.Tt,{[r]:rs(V)+""}];y(k,A(M.x)),y(O,A(M.y))},b=()=>{if(!wt){const{Lt:M}=t,A=Ns(M,ge(v)),V=I=>g=>[g.Tt,{[a]:rs(I)+""}];y(k,V(A.x)),y(O,V(A.y))}},L=()=>{const{Lt:M}=t,A=Ps(M),V=I=>g=>[g.Tt,{[o]:I?"0":"1"}];y(k,V(A.x)),y(O,V(A.y))},D=()=>{if(p&&!h){const{Rt:M,Lt:A}=t,V=Ps(A),I=Ns(A,ge(v)),g=N=>{const{Tt:P}=N,H=ot(P)===f&&P,j=(X,ae,ee)=>{const le=ae*X;return En(ee?le:-le)};return[H,H&&{transform:Ur({x:j(I.x,M.x,V.x),y:j(I.y,M.y,V.y)})}]};y(k,g),y(O,g)}},G=M=>{const A=M?"x":"y",I=Ye(`${we} ${M?oa:ia}`),g=Ye(Ln),N=Ye(xs),P={Tt:I,Ut:g,Pt:N},H=S[A];return se(M?k:O,P),se(B,[he(I,g),he(g,N),U(Ze,I),H&&H.kt(P),s(P,x,M)]),P},K=U(G,!0),z=U(G,!1),ne=()=>(he(E,k[0].Tt),he(E,O[0].Tt),U(be,B));return K(),z(),[{Nt:R,qt:b,Bt:L,Ft:D,jt:x,Xt:{Yt:k,Wt:K,Jt:U(y,k)},Gt:{Yt:O,Wt:z,Jt:U(y,O)}},ne]},Aa=(n,e,t,s)=>(r,a,o)=>{const{ht:c,ot:i,nt:u,gt:_,Kt:l,Ot:f}=e,{Tt:m,Ut:v,Pt:h}=r,[p,C]=We(333),[$,B]=We(444),k=T=>{ye(_.scrollBy)&&_.scrollBy({behavior:"smooth",left:T.x,top:T.y})},O=()=>{const T="pointerup pointercancel lostpointercapture",S=`client${o?"X":"Y"}`,F=o?Lt:Rt,w=o?"left":"top",y=o?"w":"h",x=o?"x":"y",R=(L,D)=>G=>{const{Rt:K}=t,z=Qe(v)[y]-Qe(h)[y],M=D*G/z*K[x];ke(_,{[x]:L+M})},b=[];return J(v,"pointerdown",L=>{const D=Ke(L.target,`.${xs}`)===h,G=D?h:v,K=n.scrollbars,z=K[D?"dragScroll":"clickScroll"],{button:ne,isPrimary:M,pointerType:A}=L,{pointers:V}=K;if(ne===0&&M&&z&&(V||[]).includes(A)){be(b),B();const g=!D&&(L.shiftKey||z==="instant"),N=U(Wt,h),P=U(Wt,v),H=(te,ce)=>(te||N())[w]-(ce||P())[w],j=Qt(Wt(_)[F])/Qe(_)[y]||1,X=R(ge(_)[x],1/j),ae=L[S],ee=N(),le=P(),q=ee[F],de=H(ee,le)+q/2,ve=ae-le[w],ie=D?0:ve-de,ue=te=>{be(Z),G.releasePointerCapture(te.pointerId)},re=D||g,oe=f(),Z=[J(l,T,ue),J(l,"selectstart",te=>os(te),{H:!1}),J(v,T,ue),re&&J(v,"pointermove",te=>X(ie+(te[S]-ae))),re&&(()=>{const te=ge(_);oe();const ce=ge(_),fe={x:ce.x-te.x,y:ce.y-te.y};(xt(fe.x)>3||xt(fe.y)>3)&&(f(),ke(_,te),k(fe),$(oe))})];if(G.setPointerCapture(L.pointerId),g)X(ie);else if(!D){const te=lt(ka);if(te){const ce=te(X,ie,q,fe=>{fe?oe():se(Z,oe)});se(Z,ce),se(b,U(ce,!0))}}}})};let E=!0;return U(be,[J(h,"pointermove pointerleave",s),J(m,"pointerenter",()=>{a(Ws,!0)}),J(m,"pointerleave pointercancel",()=>{a(Ws,!1)}),!u&&J(m,"mousedown",()=>{const T=ns();(Ls(T,De)||Ls(T,Pe)||T===document.body)&&kt(U(is,i),25)}),J(m,"wheel",T=>{const{deltaX:S,deltaY:F,deltaMode:w}=T;E&&w===0&&ot(m)===c&&k({x:S,y:F}),E=!1,a(Qs,!0),p(()=>{E=!0,a(Qs)}),os(T)},{H:!1,I:!0}),J(m,"pointerdown",U(J,l,"click",Tn,{A:!0,I:!0,H:!1}),{I:!0}),O(),C,B])},Ta=(n,e,t,s,r,a)=>{let o,c,i,u,_,l=Ge,f=0;const m=M=>M.pointerType==="mouse",[v,h]=We(),[p,C]=We(100),[$,B]=We(100),[k,O]=We(()=>f),[E,T]=Ma(n,r,s,Aa(e,r,s,M=>m(M)&&G())),{ht:S,Qt:F,wt:w}=r,{jt:y,Nt:x,qt:R,Bt:b,Ft:L}=E,D=(M,A)=>{if(O(),M)y(Ys);else{const V=U(y,Ys,!0);f>0&&!A?k(V):V()}},G=()=>{(i?!o:!u)&&(D(!0),p(()=>{D(!1)}))},K=M=>{y(ds,M,!0),y(ds,M,!1)},z=M=>{m(M)&&(o=i,i&&D(!0))},ne=[O,C,B,h,()=>l(),J(S,"pointerover",z,{A:!0}),J(S,"pointerenter",z),J(S,"pointerleave",M=>{m(M)&&(o=!1,i&&D(!1))}),J(S,"pointermove",M=>{m(M)&&c&&G()}),J(F,"scroll",M=>{v(()=>{R(),G()}),a(M),L()})];return[()=>U(be,se(ne,T())),({It:M,Dt:A,Zt:V,tn:I})=>{const{nn:g,sn:N,en:P,cn:H}=I||{},{Ct:j,dt:X}=V||{},{ct:ae}=t,{k:ee}=Ae(),{K:le,rn:q}=s,[de,ve]=M("showNativeOverlaidScrollbars"),[ie,ue]=M("scrollbars.theme"),[re,oe]=M("scrollbars.visibility"),[Z,te]=M("scrollbars.autoHide"),[ce,fe]=M("scrollbars.autoHideSuspend"),[tt]=M("scrollbars.autoHideDelay"),[dt,ut]=M("scrollbars.dragScroll"),[_t,Ue]=M("scrollbars.clickScroll"),[ze,Ht]=M("overflow"),Ut=X&&!A,qt=q.x||q.y,Gt=g||N||H||j||A,Se=P||oe||Ht,jt=de&&ee.x&&ee.y,st=(nt,Re,vt)=>{const rt=nt.includes(Xe)&&(re===Be||re==="auto"&&Re===Xe);return y(ca,rt,vt),rt};if(f=tt,Ut&&(ce&&qt?(K(!1),l(),$(()=>{l=J(F,"scroll",U(K,!0),{A:!0})})):K(!0)),ve&&y(ra,jt),ue&&(y(_),y(ie,!0),_=ie),fe&&!ce&&K(!0),te&&(c=Z==="move",i=Z==="leave",u=Z==="never",D(u,!0)),ut&&y(ua,dt),Ue&&y(da,!!_t),Se){const nt=st(ze.x,le.x,!0),Re=st(ze.y,le.y,!1);y(la,!(nt&&Re))}Gt&&(R(),x(),L(),H&&b(),y(Ks,!q.x,!0),y(Ks,!q.y,!1),y(aa,ae&&!w))},{},E]},Fa=n=>{const e=Ae(),{U:t,R:s}=e,{elements:r}=t(),{padding:a,viewport:o,content:c}=r,i=At(n),u=i?{}:n,{elements:_}=u,{padding:l,viewport:f,content:m}=_||{},v=i?n:u.target,h=Sn(v),p=v.ownerDocument,C=p.documentElement,$=()=>p.defaultView||pe,B=U(pa,[v]),k=U(Bn,[v]),O=U(Ye,""),E=U(B,O,o),T=U(k,O,c),S=q=>{const de=Qe(q),ve=Ft(q),ie=Oe(q,vn),ue=Oe(q,fn);return ve.w-de.w>0&&!Je(ie)||ve.h-de.h>0&&!Je(ue)},F=E(f),w=F===v,y=w&&h,x=!w&&T(m),R=!w&&F===x,b=y?C:F,L=y?b:v,D=!w&&k(O,a,l),G=!R&&x,K=[G,b,D,L].map(q=>At(q)&&!ot(q)&&q),z=q=>q&&rn(K,q),ne=!z(b)&&S(b)?b:v,M=y?C:b,V={vt:v,ht:L,ot:b,ln:D,bt:G,gt:M,Qt:y?p:b,an:h?C:ne,Kt:p,wt:h,Mt:i,nt:w,un:$,yt:q=>ws(b,De,q),St:(q,de)=>Tt(b,De,q,de),Ot:()=>Tt(M,De,Jr,!0)},{vt:I,ht:g,ln:N,ot:P,bt:H}=V,j=[()=>{xe(g,[Pe,Kt]),xe(I,Kt),h&&xe(C,[Kt,Pe])}];let X=ss([H,P,N,g,I].find(q=>q&&!z(q)));const ae=y?I:H||P,ee=U(be,j);return[V,()=>{const q=$(),de=ns(),ve=Z=>{he(ot(Z),ss(Z)),Ze(Z)},ie=Z=>J(Z,"focusin focusout focus blur",Tn,{I:!0,H:!1}),ue="tabindex",re=gs(P,ue),oe=ie(de);return Ve(g,Pe,w?"":Yr),Ve(N,ls,""),Ve(P,De,""),Ve(H,zs,""),w||(Ve(P,ue,re||"-1"),h&&Ve(C,js,"")),he(ae,X),he(g,N),he(N||g,!w&&P),he(P,H),se(j,[oe,()=>{const Z=ns(),te=z(P),ce=te&&Z===P?I:Z,fe=ie(ce);xe(N,ls),xe(H,zs),xe(P,De),h&&xe(C,js),re?Ve(P,ue,re):xe(P,ue),z(H)&&ve(H),te&&ve(P),z(N)&&ve(N),is(ce),fe()}]),s&&!w&&(bs(P,De,On),se(j,U(xe,P,De))),is(!w&&h&&de===I&&q.top===q?P:de),oe(),X=0,ee},ee]},Va=({bt:n})=>({Zt:e,_n:t,Dt:s})=>{const{xt:r}=e||{},{$t:a}=t;n&&(r||s)&&it(n,{[Rt]:a&&"100%"})},Da=({ht:n,ln:e,ot:t,nt:s},r)=>{const[a,o]=me({i:Pr,o:Is()},U(Is,n,"padding",""));return({It:c,Zt:i,_n:u,Dt:_})=>{let[l,f]=o(_);const{R:m}=Ae(),{ft:v,Ht:h,Ct:p}=i||{},{ct:C}=u,[$,B]=c("paddingAbsolute");(v||f||(_||h))&&([l,f]=a(_));const O=!s&&(B||p||f);if(O){const E=!$||!e&&!m,T=l.r+l.l,S=l.t+l.b,F={[un]:E&&!C?-T:0,[_n]:E?-S:0,[dn]:E&&C?-T:0,top:E?-l.t:0,right:E?C?-l.r:"auto":0,left:E?C?"auto":-l.l:0,[Lt]:E&&`calc(100% + ${T}px)`},w={[an]:E?l.t:0,[on]:E?l.r:0,[ln]:E?l.b:0,[cn]:E?l.l:0};it(e||t,F),it(t,w),Y(r,{ln:l,dn:!E,rt:e?w:Y({},F,w)})}return{fn:O}}},Oa=(n,e)=>{const t=Ae(),{ht:s,ln:r,ot:a,nt:o,Qt:c,gt:i,wt:u,St:_,un:l}=n,{R:f}=t,m=u&&o,v=U(sn,0),h={display:()=>!1,direction:A=>A!=="ltr",flexDirection:A=>A.endsWith("-reverse"),writingMode:A=>A!=="horizontal-tb"},p=Ce(h),C={i:pn,o:{w:0,h:0}},$={i:yt,o:{}},B=A=>{_(Dn,!m&&A)},k=A=>{if(!p.some(ae=>{const ee=A[ae];return ee&&h[ae](ee)}))return{D:{x:0,y:0},M:{x:1,y:1}};B(!0);const I=ge(i),g=_(ea,!0),N=J(c,Xe,ae=>{const ee=ge(i);ae.isTrusted&&ee.x===I.x&&ee.y===I.y&&An(ae)},{I:!0,A:!0});ke(i,{x:0,y:0}),g();const P=ge(i),H=Ft(i);ke(i,{x:H.w,y:H.h});const j=ge(i);ke(i,{x:j.x-P.x<1&&-H.w,y:j.y-P.y<1&&-H.h});const X=ge(i);return ke(i,I),_s(()=>N()),{D:P,M:X}},O=(A,V)=>{const I=pe.devicePixelRatio%1!==0?1:0,g={w:v(A.w-V.w),h:v(A.h-V.h)};return{w:g.w>I?g.w:0,h:g.h>I?g.h:0}},[E,T]=me(C,U(Cs,a)),[S,F]=me(C,U(Ft,a)),[w,y]=me(C),[x]=me($),[R,b]=me(C),[L]=me($),[D]=me({i:(A,V)=>It(A,V,p),o:{}},()=>zr(a)?Oe(a,p):{}),[G,K]=me({i:(A,V)=>yt(A.D,V.D)&&yt(A.M,V.M),o:Fn()}),z=lt(qn),ne=(A,V)=>`${V?Qr:Xr}${Br(A)}`,M=A=>{const V=g=>[Be,qe,Xe].map(N=>ne(N,g)),I=V(!0).concat(V()).join(" ");_(I),_(Ce(A).map(g=>ne(A[g],g==="x")).join(" "),!0)};return({It:A,Zt:V,_n:I,Dt:g},{fn:N})=>{const{ft:P,Ht:H,Ct:j,dt:X,zt:ae}=V||{},ee=z&&z.tt(n,e,I,t,A),{it:le,ut:q,_t:de}=ee||{},[ve,ie]=Sa(A,t),[ue,re]=A("overflow"),oe=Je(ue.x),Z=Je(ue.y),te=!0;let ce=T(g),fe=F(g),tt=y(g),dt=b(g);ie&&f&&_(On,!ve);{ws(s,Pe,St)&&B(!0);const[Ts]=q?q():[],[ft]=ce=E(g),[pt]=fe=S(g),mt=$n(a),ht=m&&jr(l()),hr={w:v(pt.w+ft.w),h:v(pt.h+ft.h)},Fs={w:v((ht?ht.w:mt.w+v(mt.w-pt.w))+ft.w),h:v((ht?ht.h:mt.h+v(mt.h-pt.h))+ft.h)};Ts&&Ts(),dt=R(Fs),tt=w(O(hr,Fs),g)}const[ut,_t]=dt,[Ue,ze]=tt,[Ht,Ut]=fe,[qt,Gt]=ce,[Se,jt]=x({x:Ue.w>0,y:Ue.h>0}),st=oe&&Z&&(Se.x||Se.y)||oe&&Se.x&&!Se.y||Z&&Se.y&&!Se.x,nt=N||j||ae||Gt||Ut||_t||ze||re||ie||te,Re=xa(Se,ue),[vt,rt]=L(Re.K),[vr,fr]=D(g),As=j||X||fr||jt||g,[pr,mr]=As?G(k(vr),g):K();return nt&&(rt&&M(Re.K),de&&le&&it(a,de(Re,I,le(Re,Ht,qt)))),B(!1),Tt(s,Pe,St,st),Tt(r,ls,St,st),Y(e,{K:vt,Vt:{x:ut.w,y:ut.h},Rt:{x:Ue.w,y:Ue.h},rn:Se,Lt:Wr(pr,Ue)}),{en:rt,nn:_t,sn:ze,cn:mr||ze,vn:As}}},La=n=>{const[e,t,s]=Fa(n),r={ln:{t:0,r:0,b:0,l:0},dn:!1,rt:{[un]:0,[_n]:0,[dn]:0,[an]:0,[on]:0,[ln]:0,[cn]:0},Vt:{x:0,y:0},Rt:{x:0,y:0},K:{x:qe,y:qe},rn:{x:!1,y:!1},Lt:Fn()},{vt:a,gt:o,nt:c,Ot:i}=e,{R:u,k:_}=Ae(),l=!u&&(_.x||_.y),f=[Va(e),Da(e,r),Oa(e,r)];return[t,m=>{const v={},p=l&&ge(o),C=p&&i();return Q(f,$=>{Y(v,$(m,v)||{})}),ke(o,p),C&&C(),!c&&ke(a,0),v},r,e,s]},Ra=(n,e,t,s,r)=>{let a=!1;const o=Gs(e,{}),[c,i,u,_,l]=La(n),[f,m,v]=$a(_,u,o,k=>{B({},k)}),[h,p,,C]=Ta(n,e,v,u,_,r),$=k=>Ce(k).some(O=>!!k[O]),B=(k,O)=>{if(t())return!1;const{pn:E,Dt:T,At:S,hn:F}=k,w=E||{},y=!!T||!a,x={It:Gs(e,w,y),pn:w,Dt:y};if(F)return p(x),!1;const R=O||m(Y({},x,{At:S})),b=i(Y({},x,{_n:v,Zt:R}));p(Y({},x,{Zt:R,tn:b}));const L=$(R),D=$(b),G=L||D||!hs(w)||y;return a=!0,G&&s(k,{Zt:R,tn:b}),G};return[()=>{const{an:k,gt:O,Ot:E}=_,T=ge(k),S=[f(),c(),h()],F=E();return ke(O,T),F(),U(be,S)},B,()=>({gn:v,bn:u}),{wn:_,yn:C},l]},Me=(n,e,t)=>{const{N:s}=Ae(),r=At(n),a=r?n:n.target,o=Pn(a);if(e&&!o){let c=!1;const i=[],u={},_=w=>{const y=hn(w),x=lt(ya);return x?x(y,!0):y},l=Y({},s(),_(e)),[f,m,v]=cs(),[h,p,C]=cs(t),$=(w,y)=>{C(w,y),v(w,y)},[B,k,O,E,T]=Ra(n,l,()=>c,({pn:w,Dt:y},{Zt:x,tn:R})=>{const{ft:b,Ct:L,xt:D,Ht:G,Et:K,dt:z}=x,{nn:ne,sn:M,en:A,cn:V}=R;$("updated",[F,{updateHints:{sizeChanged:!!b,directionChanged:!!L,heightIntrinsicChanged:!!D,overflowEdgeChanged:!!ne,overflowAmountChanged:!!M,overflowStyleChanged:!!A,scrollCoordinatesChanged:!!V,contentMutation:!!G,hostMutation:!!K,appear:!!z},changedOptions:w||{},force:!!y}])},w=>$("scroll",[F,w])),S=w=>{ga(a),be(i),c=!0,$("destroyed",[F,w]),m(),p()},F={options(w,y){if(w){const x=y?s():{},R=Vn(l,Y(x,_(w)));hs(R)||(Y(l,R),k({pn:R}))}return Y({},l)},on:h,off:(w,y)=>{w&&y&&p(w,y)},state(){const{gn:w,bn:y}=O(),{ct:x}=w,{Vt:R,Rt:b,K:L,rn:D,ln:G,dn:K,Lt:z}=y;return Y({},{overflowEdge:R,overflowAmount:b,overflowStyle:L,hasOverflow:D,scrollCoordinates:{start:z.D,end:z.M},padding:G,paddingAbsolute:K,directionRTL:x,destroyed:c})},elements(){const{vt:w,ht:y,ln:x,ot:R,bt:b,gt:L,Qt:D}=E.wn,{Xt:G,Gt:K}=E.yn,z=M=>{const{Pt:A,Ut:V,Tt:I}=M;return{scrollbar:I,track:V,handle:A}},ne=M=>{const{Yt:A,Wt:V}=M,I=z(A[0]);return Y({},I,{clone:()=>{const g=z(V());return k({hn:!0}),g}})};return Y({},{target:w,host:y,padding:x||R,viewport:R,content:b||R,scrollOffsetElement:L,scrollEventElement:D,scrollbarHorizontal:ne(G),scrollbarVertical:ne(K)})},update:w=>k({Dt:w,At:!0}),destroy:U(S,!1),plugin:w=>u[Ce(w)[0]]};return se(i,[T]),ha(a,F),Un(Nn,Me,[F,f,u]),ma(E.wn.wt,!r&&n.cancel)?(S(!0),F):(se(i,B()),$("initialized",[F]),F.update(),F)}return o};Me.plugin=n=>{const e=$e(n),t=e?n:[n],s=t.map(r=>Un(r,Me)[0]);return wa(t),e?s:s[0]};Me.valid=n=>{const e=n&&n.elements,t=ye(e)&&e();return Mt(t)&&!!Pn(t.target)};Me.env=()=>{const{T:n,k:e,R:t,V:s,B:r,F:a,U:o,P:c,N:i,q:u}=Ae();return Y({},{scrollbarsSize:n,scrollbarsOverlaid:e,scrollbarsHiding:t,scrollTimeline:s,staticDefaultInitialization:r,staticDefaultOptions:a,getDefaultInitialization:o,setDefaultInitialization:c,getDefaultOptions:i,setDefaultOptions:u})};Me.nonce=va;function Ia(){const n=d.ref(null);console.log(n.value);let e;const t=d.ref(null),s=Math.floor(Math.random()*2**32),r=d.ref(!1),a=d.ref([]),o=()=>a.value,c=()=>e.getSelection(),i=()=>a.value.length,u=()=>e.clearSelection(!0),_=d.ref(),l=d.ref(null),f=d.ref(null),m=d.ref(null),v=d.ref(null);function h(){e=new yr({area:t.value,keyboardDrag:!1,selectedClass:"vf-explorer-selected",selectorClass:"vf-explorer-selector"}),e.subscribe("DS:start:pre",({items:E,event:T,isDragging:S})=>{if(S)e.Interaction._reset(T);else{r.value=!1;const F=t.value.offsetWidth-T.offsetX,w=t.value.offsetHeight-T.offsetY;F<15&&w<15&&e.Interaction._reset(T),T.target.classList.contains("os-scrollbar-handle")&&e.Interaction._reset(T)}}),document.addEventListener("dragleave",E=>{!E.buttons&&r.value&&(r.value=!1)})}const p=()=>d.nextTick(()=>{e.addSelection(e.getSelectables()),C()}),C=()=>{a.value=e.getSelection().map(E=>JSON.parse(E.dataset.item)),_.value(a.value)},$=()=>d.nextTick(()=>{const E=o().map(T=>T.path);u(),e.setSettings({selectables:document.getElementsByClassName("vf-item-"+s)}),e.addSelection(e.getSelectables().filter(T=>E.includes(JSON.parse(T.dataset.item).path))),C(),k()}),B=E=>{_.value=E,e.subscribe("DS:end",({items:T,event:S,isDragging:F})=>{a.value=T.map(w=>JSON.parse(w.dataset.item)),E(T.map(w=>JSON.parse(w.dataset.item)))})},k=()=>{l.value&&(t.value.getBoundingClientRect().height<t.value.scrollHeight?(f.value.style.height=t.value.scrollHeight+"px",f.value.style.display="block"):(f.value.style.height="100%",f.value.style.display="none"))},O=E=>{if(!l.value)return;const{scrollOffsetElement:T}=l.value.elements();T.scrollTo({top:t.value.scrollTop,left:0})};return d.onMounted(()=>{m.value&&Me(m.value,{scrollbars:{theme:"vf-theme-dark dark:vf-theme-light"},plugins:{OverlayScrollbars:Me}},{initialized:E=>{l.value=E},scroll:(E,T)=>{const{scrollOffsetElement:S}=E.elements();t.value.scrollTo({top:S.scrollTop,left:0})}}),h(),k(),v.value=new ResizeObserver(k),v.value.observe(t.value),t.value.addEventListener("scroll",O),e.subscribe("DS:scroll",({isDragging:E})=>E||O())}),d.onUnmounted(()=>{e&&e.stop(),v.value&&v.value.disconnect()}),d.onUpdated(()=>{e&&e.Area.reset()}),{area:t,explorerId:s,isDraggingRef:r,scrollBar:f,scrollBarContainer:m,getSelected:o,getSelection:c,selectAll:p,clearSelection:u,refreshSelection:$,getCount:i,onSelect:B}}function Ba(n,e){const t=d.ref(n),s=d.ref(e),r=d.ref([]),a=d.ref([]),o=d.ref([]),c=d.ref(!1),i=d.ref(5);let u=!1,_=!1;const l=d.reactive({adapter:t,storages:[],dirname:s,files:[]});function f(){let $=[],B=[],k=s.value??t.value+"://";k.length===0&&(r.value=[]),k.replace(t.value+"://","").split("/").forEach(function(T){$.push(T),$.join("/")!==""&&B.push({basename:T,name:T,path:t.value+"://"+$.join("/"),type:"dir"})}),a.value=B;const[O,E]=v(B,i.value);o.value=E,r.value=O}function m($){i.value=$,f()}function v($,B){return $.length>B?[$.slice(-B),$.slice(0,-B)]:[$,[]]}function h($=null){c.value=$??!c.value}function p(){return r.value&&r.value.length&&!_}const C=d.computed(()=>{var $;return(($=r.value[r.value.length-2])==null?void 0:$.path)??t.value+"://"});return d.onMounted(()=>{}),d.watch(s,f),d.onMounted(f),{adapter:t,path:s,loading:u,searchMode:_,data:l,breadcrumbs:r,breadcrumbItems:a,limitBreadcrumbItems:m,hiddenBreadcrumbs:o,showHiddenBreadcrumbs:c,toggleHiddenBreadcrumbs:h,isGoUpAvailable:p,parentFolderPath:C}}const Pa=(n,e)=>{const t=$r(n.id),s=wr(),r=t.getStore("metricUnits",!1),a=Dr(t,n.theme),o=e.i18n,c=n.locale??e.locale,i=t.getStore("adapter"),u=h=>Array.isArray(h)?h:Tr,_=t.getStore("persist-path",n.persist),l=_?t.getStore("path",n.path):n.path,f=Er(n.request),m=d.ref([]),v=d.reactive({version:Fr,root:null,debug:n.debug,emitter:s,storage:t,i18n:Ar(t,c,s,o),modal:Or(),dragSelect:d.computed(()=>Ia()),requester:f,features:u(n.features),view:t.getStore("viewport","grid"),fullScreen:n.fullScreen,showTreeView:t.getStore("show-tree-view",n.showTreeView),pinnedFolders:m,treeViewData:[],selectButton:n.selectButton,maxFileSize:n.maxFileSize,theme:a,metricUnits:r,filesize:r?tn:en,compactListView:t.getStore("compact-list-view",!0),persist:_,showThumbnails:t.getStore("show-thumbnails",n.showThumbnails),fs:Ba(i,l)});return f.getPinnedFolders().then(h=>{v.pinnedFolders=h}),d.watch(()=>n.fullScreen,()=>{v.fullScreen=n.fullScreen}),v};function W(n,e,t,s,r,a,o,c){var i=typeof n=="function"?n.options:n;return e&&(i.render=e,i.staticRenderFns=t,i._compiled=!0),{exports:n,options:i}}const Na={__name:"ModalLayout",setup(n){const e=d.ref(null),t=d.inject("ServiceContainer");return d.onMounted(()=>{const s=document.querySelector(".v-f-modal input");s&&s.focus(),d.nextTick(()=>{if(document.querySelector(".v-f-modal input")&&window.innerWidth<768){const r=e.value.getBoundingClientRect().bottom+16;window.scrollTo({top:r,left:0,behavior:"smooth"})}})}),{__sfc:!0,modalBody:e,app:t}}};var Ha=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"vuefinder__modal-layout",attrs:{"aria-labelledby":"modal-title",role:"dialog","aria-modal":"true",tabindex:"0"},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:s.app.modal.close()}}},[t("div",{staticClass:"vuefinder__modal-layout__overlay"}),t("div",{staticClass:"vuefinder__modal-layout__container"},[t("div",{staticClass:"vuefinder__modal-layout__wrapper",on:{mousedown:function(r){return r.target!==r.currentTarget?null:s.app.modal.close()}}},[t("div",{ref:"modalBody",staticClass:"vuefinder__modal-layout__body"},[t("div",{staticClass:"vuefinder__modal-layout__content"},[e._t("default")],2),t("div",{staticClass:"vuefinder__modal-layout__footer"},[e._t("buttons")],2)])])])])},Ua=[],qa=W(Na,Ha,Ua);const Te=qa.exports,Ga={props:{on:{type:String,required:!0}},setup(n,{emit:e,slots:t}){const s=d.inject("ServiceContainer"),r=d.ref(!1),{t:a}=s.i18n;let o=null;const c=()=>{clearTimeout(o),r.value=!0,o=setTimeout(()=>{r.value=!1},2e3)};return d.onMounted(()=>{s.emitter.on(n.on,c)}),d.onUnmounted(()=>{clearTimeout(o)}),{shown:r,t:a}}};var ja=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vuefinder__action-message",class:{"vuefinder__action-message--hidden":!e.shown}},[e.$slots.default?e._t("default"):t("span",[e._v(e._s(e.t("Saved.")))])],2)},za=[],Wa=W(Ga,ja,za);const Ka=Wa.exports;var Ya=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.594 3.94c.09-.542.56-.94 1.11-.94h2.593c.55 0 1.02.398 1.11.94l.213 1.281c.063.374.313.686.645.87q.11.06.22.127c.325.196.72.257 1.075.124l1.217-.456a1.125 1.125 0 0 1 1.37.49l1.296 2.247a1.125 1.125 0 0 1-.26 1.431l-1.003.827c-.293.241-.438.613-.43.992a8 8 0 0 1 0 .255c-.008.378.137.75.43.991l1.004.827c.424.35.534.955.26 1.43l-1.298 2.247a1.125 1.125 0 0 1-1.369.491l-1.217-.456c-.355-.133-.75-.072-1.076.124a7 7 0 0 1-.22.128c-.331.183-.581.495-.644.869l-.213 1.281c-.09.543-.56.94-1.11.94h-2.594c-.55 0-1.019-.398-1.11-.94l-.213-1.281c-.062-.374-.312-.686-.644-.87a7 7 0 0 1-.22-.127c-.325-.196-.72-.257-1.076-.124l-1.217.456a1.125 1.125 0 0 1-1.369-.49l-1.297-2.247a1.125 1.125 0 0 1 .26-1.431l1.004-.827c.292-.24.437-.613.43-.991a7 7 0 0 1 0-.255c.007-.38-.138-.751-.43-.992l-1.004-.827a1.125 1.125 0 0 1-.26-1.43l1.297-2.247a1.125 1.125 0 0 1 1.37-.491l1.216.456c.356.133.751.072 1.076-.124q.108-.066.22-.128c.332-.183.582-.495.644-.869z"}}),t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0"}})])};const Qa={render:Ya},Xa={__name:"ModalHeader",props:{title:{type:String,required:!0},icon:{type:Object,required:!0}},setup(n){return{__sfc:!0}}};var Za=function(){var e=this,t=e._self._c;return e._self._setupProxy,t("div",{staticClass:"vuefinder__modal-header"},[t("div",{staticClass:"vuefinder__modal-header__icon-container"},[t(e.icon,{tag:"component",staticClass:"vuefinder__modal-header__icon"})],1),t("h3",{staticClass:"vuefinder__modal-header__title",attrs:{id:"modal-title"}},[e._v(e._s(e.title))])])},Ja=[],eo=W(Xa,Za,Ja);const Le=eo.exports,to={__name:"ModalAbout",setup(n){const e=d.inject("ServiceContainer"),{setStore:t,clearStore:s}=e.storage,{t:r}=e.i18n,a={ABOUT:"about",SETTINGS:"settings",SHORTCUTS:"shortcuts",RESET:"reset"},o=d.computed(()=>[{name:r("About"),key:a.ABOUT},{name:r("Settings"),key:a.SETTINGS},{name:r("Shortcuts"),key:a.SHORTCUTS},{name:r("Reset"),key:a.RESET}]),c=d.ref("about"),i=async()=>{s(),location.reload()},u=B=>{e.theme.set(B),e.emitter.emit("vf-theme-saved")},_=()=>{e.metricUnits=!e.metricUnits,e.filesize=e.metricUnits?tn:en,t("metricUnits",e.metricUnits),e.emitter.emit("vf-metric-units-saved")},l=()=>{e.compactListView=!e.compactListView,t("compactListView",e.compactListView),e.emitter.emit("vf-compact-view-saved")},f=()=>{e.showThumbnails=!e.showThumbnails,t("show-thumbnails",e.showThumbnails),e.emitter.emit("vf-show-thumbnails-saved")},m=()=>{e.persist=!e.persist,t("persist-path",e.persist),e.emitter.emit("vf-persist-path-saved")},{proxy:v}=d.getCurrentInstance(),{i18n:h}=v.$VueFinderOptions,p={en:"English",fr:"French (Français)",de:"German (Deutsch)",fa:"Persian (فارسی)",he:"Hebrew (עִברִית)",hi:"Hindi (हिंदी)",ru:"Russian (Pусский)",sv:"Swedish (Svenska)",tr:"Turkish (Türkçe)",zhCN:"Simplified Chinese (简体中文)",zhTW:"Traditional Chinese (繁體中文)"},C=Object.fromEntries(Object.entries(p).filter(([B])=>Object.keys(h).includes(B))),$=d.computed(()=>({system:r("System"),light:r("Light"),dark:r("Dark")}));return{__sfc:!0,app:e,setStore:t,clearStore:s,t:r,TAB:a,tabs:o,selectedTab:c,clearLocalStorage:i,handleTheme:u,handleMetricUnits:_,handleCompactListView:l,handleShowThumbnails:f,handlePersistPath:m,proxy:v,i18n:h,languageList:p,supportedLanguages:C,themes:$,ModalLayout:Te,ActionMessage:Ka,AboutSVG:Qa,FEATURES:_e,ModalHeader:Le}}};var so=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.ModalLayout,{scopedSlots:e._u([{key:"buttons",fn:function(){return[t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return s.app.modal.close()}}},[e._v(" "+e._s(s.t("Close"))+" ")])]},proxy:!0}])},[t("div",{staticClass:"vuefinder__about-modal__content"},[t(s.ModalHeader,{attrs:{icon:s.AboutSVG,title:"Vuefinder "+s.app.version}}),t("div",{staticClass:"vuefinder__about-modal__main"},[t("div",[t("div",[t("nav",{staticClass:"vuefinder__about-modal__tabs",attrs:{"aria-label":"Tabs"}},e._l(s.tabs,function(r){return t("button",{key:r.name,class:[r.key===s.selectedTab?"vuefinder__about-modal__tab--active":"vuefinder__about-modal__tab--inactive","vuefinder__about-modal__tab"],attrs:{"aria-current":r.current?"page":void 0},on:{click:function(a){s.selectedTab=r.key}}},[e._v(" "+e._s(r.name)+" ")])}),0)])]),s.selectedTab===s.TAB.ABOUT?t("div",{staticClass:"vuefinder__about-modal__tab-content"},[t("div",{staticClass:"vuefinder__about-modal__description"},[e._v(" "+e._s(s.t("Vuefinder is a simple, lightweight, and fast file manager library for Vue.js applications"))+" ")]),t("a",{staticClass:"vuefinder__about-modal__link",attrs:{href:"https://vuefinder.ozdemir.be",target:"_blank"}},[e._v(e._s(s.t("Project home")))]),t("a",{staticClass:"vuefinder__about-modal__link",attrs:{href:"https://github.com/n1crack/vuefinder",target:"_blank"}},[e._v(e._s(s.t("Follow on GitHub")))])]):e._e(),s.selectedTab===s.TAB.SETTINGS?t("div",{staticClass:"vuefinder__about-modal__tab-content"},[t("div",{staticClass:"vuefinder__about-modal__description"},[e._v(" "+e._s(s.t("Customize your experience with the following settings"))+" ")]),t("div",{staticClass:"vuefinder__about-modal__settings"},[t("fieldset",[t("div",{staticClass:"vuefinder__about-modal__setting flex"},[t("div",{staticClass:"vuefinder__about-modal__setting-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.app.metricUnits,expression:"app.metricUnits"}],staticClass:"vuefinder__about-modal__checkbox",attrs:{id:"metric_unit",name:"metric_unit",type:"checkbox"},domProps:{checked:Array.isArray(s.app.metricUnits)?e._i(s.app.metricUnits,null)>-1:s.app.metricUnits},on:{click:s.handleMetricUnits,change:function(r){var a=s.app.metricUnits,o=r.target,c=!!o.checked;if(Array.isArray(a)){var i=null,u=e._i(a,i);o.checked?u<0&&e.$set(s.app,"metricUnits",a.concat([i])):u>-1&&e.$set(s.app,"metricUnits",a.slice(0,u).concat(a.slice(u+1)))}else e.$set(s.app,"metricUnits",c)}}})]),t("div",{staticClass:"vuefinder__about-modal__setting-label"},[t("label",{staticClass:"vuefinder__about-modal__label",attrs:{for:"metric_unit"}},[e._v(" "+e._s(s.t("Use Metric Units"))+" "),t(s.ActionMessage,{staticClass:"ms-3",attrs:{on:"vf-metric-units-saved"}},[e._v(e._s(s.t("Saved.")))])],1)])]),t("div",{staticClass:"vuefinder__about-modal__setting flex"},[t("div",{staticClass:"vuefinder__about-modal__setting-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.app.compactListView,expression:"app.compactListView"}],staticClass:"vuefinder__about-modal__checkbox",attrs:{id:"large_icons",name:"large_icons",type:"checkbox"},domProps:{checked:Array.isArray(s.app.compactListView)?e._i(s.app.compactListView,null)>-1:s.app.compactListView},on:{click:s.handleCompactListView,change:function(r){var a=s.app.compactListView,o=r.target,c=!!o.checked;if(Array.isArray(a)){var i=null,u=e._i(a,i);o.checked?u<0&&e.$set(s.app,"compactListView",a.concat([i])):u>-1&&e.$set(s.app,"compactListView",a.slice(0,u).concat(a.slice(u+1)))}else e.$set(s.app,"compactListView",c)}}})]),t("div",{staticClass:"vuefinder__about-modal__setting-label"},[t("label",{staticClass:"vuefinder__about-modal__label",attrs:{for:"large_icons"}},[e._v(" "+e._s(s.t("Compact list view"))+" "),t(s.ActionMessage,{staticClass:"ms-3",attrs:{on:"vf-compact-view-saved"}},[e._v(e._s(s.t("Saved.")))])],1)])]),t("div",{staticClass:"vuefinder__about-modal__setting flex"},[t("div",{staticClass:"vuefinder__about-modal__setting-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.app.persist,expression:"app.persist"}],staticClass:"vuefinder__about-modal__checkbox",attrs:{id:"persist_path",name:"persist_path",type:"checkbox"},domProps:{checked:Array.isArray(s.app.persist)?e._i(s.app.persist,null)>-1:s.app.persist},on:{click:s.handlePersistPath,change:function(r){var a=s.app.persist,o=r.target,c=!!o.checked;if(Array.isArray(a)){var i=null,u=e._i(a,i);o.checked?u<0&&e.$set(s.app,"persist",a.concat([i])):u>-1&&e.$set(s.app,"persist",a.slice(0,u).concat(a.slice(u+1)))}else e.$set(s.app,"persist",c)}}})]),t("div",{staticClass:"vuefinder__about-modal__setting-label"},[t("label",{staticClass:"vuefinder__about-modal__label",attrs:{for:"persist_path"}},[e._v(" "+e._s(s.t("Persist path on reload"))+" "),t(s.ActionMessage,{staticClass:"ms-3",attrs:{on:"vf-persist-path-saved"}},[e._v(e._s(s.t("Saved.")))])],1)])]),t("div",{staticClass:"vuefinder__about-modal__setting flex"},[t("div",{staticClass:"vuefinder__about-modal__setting-input"},[t("input",{directives:[{name:"model",rawName:"v-model",value:s.app.showThumbnails,expression:"app.showThumbnails"}],staticClass:"vuefinder__about-modal__checkbox",attrs:{id:"show_thumbnails",name:"show_thumbnails",type:"checkbox"},domProps:{checked:Array.isArray(s.app.showThumbnails)?e._i(s.app.showThumbnails,null)>-1:s.app.showThumbnails},on:{click:s.handleShowThumbnails,change:function(r){var a=s.app.showThumbnails,o=r.target,c=!!o.checked;if(Array.isArray(a)){var i=null,u=e._i(a,i);o.checked?u<0&&e.$set(s.app,"showThumbnails",a.concat([i])):u>-1&&e.$set(s.app,"showThumbnails",a.slice(0,u).concat(a.slice(u+1)))}else e.$set(s.app,"showThumbnails",c)}}})]),t("div",{staticClass:"vuefinder__about-modal__setting-label"},[t("label",{staticClass:"vuefinder__about-modal__label",attrs:{for:"show_thumbnails"}},[e._v(" "+e._s(s.t("Show thumbnails"))+" "),t(s.ActionMessage,{staticClass:"ms-3",attrs:{on:"vf-show-thumbnails-saved"}},[e._v(e._s(s.t("Saved.")))])],1)])]),t("div",{staticClass:"vuefinder__about-modal__setting"},[t("div",{staticClass:"vuefinder__about-modal__setting-input"},[t("label",{staticClass:"vuefinder__about-modal__label",attrs:{for:"theme"}},[e._v(" "+e._s(s.t("Theme"))+" ")])]),t("div",{staticClass:"vuefinder__about-modal__setting-label"},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.app.theme.value,expression:"app.theme.value"}],staticClass:"vuefinder__about-modal__select",attrs:{id:"theme"},on:{change:[function(r){var a=Array.prototype.filter.call(r.target.options,function(o){return o.selected}).map(function(o){var c="_value"in o?o._value:o.value;return c});e.$set(s.app.theme,"value",r.target.multiple?a:a[0])},function(r){return s.handleTheme(r.target.value)}]}},[t("optgroup",{attrs:{label:s.t("Theme")}},e._l(s.themes,function(r,a){return t("option",{domProps:{value:a}},[e._v(" "+e._s(r)+" ")])}),0)]),t(s.ActionMessage,{staticClass:"ms-3",attrs:{on:"vf-theme-saved"}},[e._v(e._s(s.t("Saved.")))])],1)]),s.app.features.includes(s.FEATURES.LANGUAGE)&&Object.keys(s.supportedLanguages).length>1?t("div",{staticClass:"vuefinder__about-modal__setting"},[t("div",{staticClass:"vuefinder__about-modal__setting-input"},[t("label",{staticClass:"vuefinder__about-modal__label",attrs:{for:"language"}},[e._v(" "+e._s(s.t("Language"))+" ")])]),t("div",{staticClass:"vuefinder__about-modal__setting-label"},[t("select",{directives:[{name:"model",rawName:"v-model",value:s.app.i18n.locale,expression:"app.i18n.locale"}],staticClass:"vuefinder__about-modal__select",attrs:{id:"language"},on:{change:function(r){var a=Array.prototype.filter.call(r.target.options,function(o){return o.selected}).map(function(o){var c="_value"in o?o._value:o.value;return c});e.$set(s.app.i18n,"locale",r.target.multiple?a:a[0])}}},[t("optgroup",{attrs:{label:s.t("Language")}},e._l(s.supportedLanguages,function(r,a){return t("option",{domProps:{value:a}},[e._v(" "+e._s(r)+" ")])}),0)]),t(s.ActionMessage,{staticClass:"ms-3",attrs:{on:"vf-language-saved"}},[e._v(e._s(s.t("Saved.")))])],1)]):e._e()])])]):e._e(),s.selectedTab===s.TAB.SHORTCUTS?t("div",{staticClass:"vuefinder__about-modal__tab-content"},[t("div",{staticClass:"vuefinder__about-modal__shortcuts"},[t("div",{staticClass:"vuefinder__about-modal__shortcut"},[t("div",[e._v(e._s(s.t("Rename")))]),t("kbd",[e._v("F2")])]),t("div",{staticClass:"vuefinder__about-modal__shortcut"},[t("div",[e._v(e._s(s.t("Refresh")))]),t("kbd",[e._v("F5")])]),t("div",{staticClass:"vuefinder__about-modal__shortcut"},[e._v(" "+e._s(s.t("Delete"))+" "),t("kbd",[e._v("Del")])]),t("div",{staticClass:"vuefinder__about-modal__shortcut"},[e._v(" "+e._s(s.t("Escape"))+" "),t("div",[t("kbd",[e._v("Esc")])])]),t("div",{staticClass:"vuefinder__about-modal__shortcut"},[e._v(" "+e._s(s.t("Select All"))+" "),t("div",[t("kbd",[e._v("Ctrl")]),e._v(" + "),t("kbd",[e._v("A")])])]),t("div",{staticClass:"vuefinder__about-modal__shortcut"},[e._v(" "+e._s(s.t("Search"))+" "),t("div",[t("kbd",[e._v("Ctrl")]),e._v(" + "),t("kbd",[e._v("F")])])]),t("div",{staticClass:"vuefinder__about-modal__shortcut"},[e._v(" "+e._s(s.t("Toggle Sidebar"))+" "),t("div",[t("kbd",[e._v("Ctrl")]),e._v(" + "),t("kbd",[e._v("E")])])]),t("div",{staticClass:"vuefinder__about-modal__shortcut"},[e._v(" "+e._s(s.t("Open Settings"))+" "),t("div",[t("kbd",[e._v("Ctrl")]),e._v(" + "),t("kbd",[e._v(",")])])]),t("div",{staticClass:"vuefinder__about-modal__shortcut"},[e._v(" "+e._s(s.t("Toggle Full Screen"))+" "),t("div",[t("kbd",[e._v("Ctrl")]),e._v(" + "),t("kbd",[e._v("Enter")])])])])]):e._e(),s.selectedTab===s.TAB.RESET?t("div",{staticClass:"vuefinder__about-modal__tab-content"},[t("div",{staticClass:"vuefinder__about-modal__description"},[e._v(" "+e._s(s.t("Reset all settings to default"))+" ")]),t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:s.clearLocalStorage}},[e._v(" "+e._s(s.t("Reset Settings"))+" ")])]):e._e()])],1)])},no=[],ro=W(to,so,no);const jn=ro.exports,ao={__name:"Message",props:{error:{type:Boolean,default:!1}},emits:["hidden"],setup(n,{emit:e}){var u;const t=n,s=d.inject("ServiceContainer"),{t:r}=s.i18n,a=d.ref(!1),o=d.ref(null),c=d.ref((u=o.value)==null?void 0:u.strMessage);return d.watch(c,()=>a.value=!1),{__sfc:!0,emit:e,props:t,app:s,t:r,hidden:a,strMessage:o,strSlot:c,hide:()=>{e("hidden"),a.value=!0}}}};var oo=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",[s.hidden?e._e():t("div",{ref:"strMessage",staticClass:"vuefinder__message",class:e.error?"vuefinder__message--error":"vuefinder__message--success"},[e._t("default"),t("div",{staticClass:"vuefinder__message__close",attrs:{title:s.t("Close")},on:{click:s.hide}},[t("svg",{staticClass:"vuefinder__message__icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"}})])])],2)])},io=[],co=W(ao,oo,io);const He=co.exports;var lo=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21q.512.078 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48 48 0 0 0-3.478-.397m-12 .562q.51-.089 1.022-.165m0 0a48 48 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a52 52 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a49 49 0 0 0-7.5 0"}})])};const zn={render:lo},uo={__name:"ModalDelete",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,s=d.ref(e.modal.data.items),r=d.ref("");return{__sfc:!0,app:e,t,items:s,message:r,remove:()=>{s.value.length&&e.emitter.emit("vf-fetch",{params:{q:"delete",m:"post",adapter:e.fs.adapter,path:e.fs.data.dirname},body:{items:s.value.map(({path:o,type:c})=>({path:o,type:c}))},onSuccess:()=>{e.emitter.emit("vf-toast-push",{label:t("Files deleted.")})},onError:o=>{r.value=t(o.message)}})},ModalLayout:Te,Message:He,ModalHeader:Le,DeleteSVG:zn}}};var _o=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.ModalLayout,{scopedSlots:e._u([{key:"buttons",fn:function(){return[t("button",{staticClass:"vf-btn vf-btn-danger",attrs:{type:"button"},on:{click:s.remove}},[e._v(e._s(s.t("Yes, Delete!")))]),t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return s.app.modal.close()}}},[e._v(e._s(s.t("Cancel")))]),t("div",{staticClass:"vuefinder__delete-modal__warning"},[e._v(e._s(s.t("This action cannot be undone.")))])]},proxy:!0}])},[t("div",[t(s.ModalHeader,{attrs:{icon:s.DeleteSVG,title:s.t("Delete files")}}),t("div",{staticClass:"vuefinder__delete-modal__content"},[t("div",{staticClass:"vuefinder__delete-modal__form"},[t("p",{staticClass:"vuefinder__delete-modal__description"},[e._v(e._s(s.t("Are you sure you want to delete these files?")))]),t("div",{staticClass:"vuefinder__delete-modal__files vf-scrollbar"},e._l(s.items,function(r){return t("p",{staticClass:"vuefinder__delete-modal__file"},[r.type==="dir"?t("svg",{staticClass:"vuefinder__delete-modal__icon vuefinder__delete-modal__icon--dir",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"}})]):t("svg",{staticClass:"vuefinder__delete-modal__icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}})]),t("span",{staticClass:"vuefinder__delete-modal__file-name"},[e._v(e._s(r.basename))])])}),0),s.message.length?t(s.Message,{attrs:{error:""},on:{hidden:function(r){s.message=""}}},[e._v(e._s(s.message))]):e._e()],1)])],1)])},vo=[],fo=W(uo,_o,vo);const Es=fo.exports;var po=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}})])};const Wn={render:po},mo={__name:"ModalRename",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,s=d.ref(e.modal.data.items[0]),r=d.ref(e.modal.data.items[0].basename),a=d.ref("");return{__sfc:!0,app:e,t,item:s,name:r,message:a,rename:()=>{r.value!=""&&e.emitter.emit("vf-fetch",{params:{q:"rename",m:"post",adapter:e.fs.adapter,path:e.fs.data.dirname},body:{item:s.value.path,name:r.value},onSuccess:()=>{e.emitter.emit("vf-toast-push",{label:t("%s is renamed.",r.value)})},onError:c=>{a.value=t(c.message)}})},ModalLayout:Te,Message:He,ModalHeader:Le,RenameSVG:Wn}}};var ho=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.ModalLayout,{scopedSlots:e._u([{key:"buttons",fn:function(){return[t("button",{staticClass:"vf-btn vf-btn-primary",attrs:{type:"button"},on:{click:s.rename}},[e._v(e._s(s.t("Rename")))]),t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return s.app.modal.close()}}},[e._v(e._s(s.t("Cancel")))])]},proxy:!0}])},[t("div",[t(s.ModalHeader,{attrs:{icon:s.RenameSVG,title:s.t("Rename")}}),t("div",{staticClass:"vuefinder__rename-modal__content"},[t("div",{staticClass:"vuefinder__rename-modal__item"},[t("p",{staticClass:"vuefinder__rename-modal__item-info"},[s.item.type==="dir"?t("svg",{staticClass:"vuefinder__rename-modal__icon vuefinder__rename-modal__icon--dir",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"}})]):t("svg",{staticClass:"vuefinder__rename-modal__icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}})]),t("span",{staticClass:"vuefinder__rename-modal__item-name"},[e._v(e._s(s.item.basename))])]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"name"}],staticClass:"vuefinder__rename-modal__input",attrs:{placeholder:"Name",type:"text"},domProps:{value:s.name},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:s.rename.apply(null,arguments)},input:function(r){r.target.composing||(s.name=r.target.value)}}}),s.message.length?t(s.Message,{attrs:{error:""},on:{hidden:function(r){s.message=""}}},[e._v(e._s(s.message))]):e._e()],1)])],1)])},go=[],bo=W(mo,ho,go);const $s=bo.exports,Fe={ESCAPE:"Escape",F2:"F2",F5:"F5",DELETE:"Delete",ENTER:"Enter",BACKSLASH:"Backslash",KEY_A:"KeyA",KEY_E:"KeyE",KEY_F:"KeyF"};function wo(n){const e=t=>{t.code===Fe.ESCAPE&&(n.modal.close(),n.root.focus()),!n.modal.visible&&(n.fs.searchMode||(t.code===Fe.F2&&n.features.includes(_e.RENAME)&&(n.dragSelect.getCount()!==1||n.modal.open($s,{items:n.dragSelect.getSelected()})),t.code===Fe.F5&&n.emitter.emit("vf-fetch",{params:{q:"index",adapter:n.fs.adapter,path:n.fs.data.dirname}}),t.code===Fe.DELETE&&(!n.dragSelect.getCount()||n.modal.open(Es,{items:n.dragSelect.getSelected()})),t.metaKey&&t.code===Fe.BACKSLASH&&n.modal.open(jn),t.metaKey&&t.code===Fe.KEY_F&&n.features.includes(_e.SEARCH)&&(n.fs.searchMode=!0,t.preventDefault()),t.metaKey&&t.code===Fe.KEY_E&&(n.showTreeView=!n.showTreeView,n.storage.setStore("show-tree-view",n.showTreeView)),t.metaKey&&t.code===Fe.ENTER&&(n.fullScreen=!n.fullScreen,n.root.focus()),t.metaKey&&t.code===Fe.KEY_A&&(n.dragSelect.selectAll(),t.preventDefault())))};d.onMounted(()=>{n.root.addEventListener("keydown",e)})}var yo=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto vf-toolbar-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M12 10.5v6m3-3H9m4.06-7.19-2.12-2.12a1.5 1.5 0 0 0-1.061-.44H4.5A2.25 2.25 0 0 0 2.25 6v12a2.25 2.25 0 0 0 2.25 2.25h15A2.25 2.25 0 0 0 21.75 18V9a2.25 2.25 0 0 0-2.25-2.25h-5.379a1.5 1.5 0 0 1-1.06-.44z"}})])};const Kn={render:yo},Co={__name:"ModalNewFolder",setup(n){const e=d.inject("ServiceContainer"),{getStore:t}=e.storage,{t:s}=e.i18n,r=d.ref(""),a=d.ref("");return{__sfc:!0,app:e,getStore:t,t:s,name:r,message:a,createFolder:()=>{r.value!==""&&e.emitter.emit("vf-fetch",{params:{q:"newfolder",m:"post",adapter:e.fs.adapter,path:e.fs.data.dirname},body:{name:r.value},onSuccess:()=>{e.emitter.emit("vf-toast-push",{label:s("%s is created.",r.value)})},onError:c=>{a.value=s(c.message)}})},ModalLayout:Te,Message:He,ModalHeader:Le,NewFolderSVG:Kn}}};var So=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.ModalLayout,{scopedSlots:e._u([{key:"buttons",fn:function(){return[t("button",{staticClass:"vf-btn vf-btn-primary",attrs:{type:"button"},on:{click:s.createFolder}},[e._v(e._s(s.t("Create")))]),t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return s.app.modal.close()}}},[e._v(e._s(s.t("Cancel")))])]},proxy:!0}])},[t("div",[t(s.ModalHeader,{attrs:{icon:s.NewFolderSVG,title:s.t("New Folder")}}),t("div",{staticClass:"vuefinder__new-folder-modal__content"},[t("div",{staticClass:"vuefinder__new-folder-modal__form"},[t("p",{staticClass:"vuefinder__new-folder-modal__description"},[e._v(e._s(s.t("Create a new folder")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"name"}],staticClass:"vuefinder__new-folder-modal__input",attrs:{placeholder:s.t("Folder Name"),type:"text"},domProps:{value:s.name},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:s.createFolder.apply(null,arguments)},input:function(r){r.target.composing||(s.name=r.target.value)}}}),s.message.length?t(s.Message,{attrs:{error:""},on:{hidden:function(r){s.message=""}}},[e._v(e._s(s.message))]):e._e()],1)])],1)])},xo=[],ko=W(Co,So,xo);const Yn=ko.exports;var Eo=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto vf-toolbar-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m3.75 9v6m3-3H9m1.5-12H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9"}})])};const Qn={render:Eo},$o={__name:"ModalNewFile",setup(n){const e=d.inject("ServiceContainer"),{getStore:t}=e.storage,{t:s}=e.i18n,r=d.ref(""),a=d.ref("");return{__sfc:!0,app:e,getStore:t,t:s,name:r,message:a,createFile:()=>{r.value!==""&&e.emitter.emit("vf-fetch",{params:{q:"newfile",m:"post",adapter:e.fs.adapter,path:e.fs.data.dirname},body:{name:r.value},onSuccess:()=>{e.emitter.emit("vf-toast-push",{label:s("%s is created.",r.value)})},onError:c=>{a.value=s(c.message)}})},ModalLayout:Te,Message:He,ModalHeader:Le,NewFileSVG:Qn}}};var Mo=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.ModalLayout,{scopedSlots:e._u([{key:"buttons",fn:function(){return[t("button",{staticClass:"vf-btn vf-btn-primary",attrs:{type:"button"},on:{click:s.createFile}},[e._v(e._s(s.t("Create")))]),t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return s.app.modal.close()}}},[e._v(e._s(s.t("Cancel")))])]},proxy:!0}])},[t("div",[t(s.ModalHeader,{attrs:{icon:s.NewFileSVG,title:s.t("New File")}}),t("div",{staticClass:"vuefinder__new-file-modal__content"},[t("div",{staticClass:"vuefinder__new-file-modal__form"},[t("p",{staticClass:"vuefinder__new-file-modal__description"},[e._v(e._s(s.t("Create a new file")))]),t("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"name"}],staticClass:"vuefinder__new-file-modal__input",attrs:{placeholder:s.t("File Name"),type:"text"},domProps:{value:s.name},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:s.createFile.apply(null,arguments)},input:function(r){r.target.composing||(s.name=r.target.value)}}}),s.message.length?t(s.Message,{attrs:{error:""},on:{hidden:function(r){s.message=""}}},[e._v(e._s(s.message))]):e._e()],1)])],1)])},Ao=[],To=W($o,Mo,Ao);const Fo=To.exports;function Xn(n,e=14){let t=`((?=([\\w\\W]{0,${e}}))([\\w\\W]{${e+1},})([\\w\\W]{8,}))`;return n.replace(new RegExp(t),"$2..$4")}var Vo=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto vf-toolbar-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5m-13.5-9L12 3m0 0 4.5 4.5M12 3v13.5"}})])};const Zn={render:Vo},Do={__name:"ModalUpload",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,s=t("uppy"),r={PENDING:0,CANCELED:1,UPLOADING:2,ERROR:3,DONE:10},a=d.ref({QUEUE_ENTRY_STATUS:r}),o=d.ref(null),c=d.ref(null),i=d.ref(null),u=d.ref(null),_=d.ref(null),l=d.ref(null),f=d.ref([]),m=d.ref(""),v=d.ref(!1),h=d.ref(!1);let p;function C(x){return f.value.findIndex(R=>R.id===x)}function $(x,R=null){R=R??(x.webkitRelativePath||x.name),p.addFile({name:R,type:x.type,data:x,source:"Local"})}function B(x){switch(x.status){case r.DONE:return"text-green-600";case r.ERROR:return"text-red-600";case r.CANCELED:return"text-red-600";case r.PENDING:default:return""}}const k=x=>{switch(x.status){case r.DONE:return"✓";case r.ERROR:case r.CANCELED:return"!";case r.PENDING:default:return"..."}};function O(){u.value.click()}function E(){if(!v.value){if(!f.value.filter(x=>x.status!==r.DONE).length){m.value=t("Please select file to upload first.");return}m.value="",p.retryAll(),p.upload()}}function T(){p.cancelAll({reason:"user"}),f.value.forEach(x=>{x.status!==r.DONE&&(x.status=r.CANCELED,x.statusName=t("Canceled"))}),v.value=!1}function S(x){v.value||(p.removeFile(x.id,"removed-by-user"),f.value.splice(C(x.id),1))}function F(x){if(!v.value){if(p.cancelAll({reason:"user"}),x){const R=[];f.value.forEach(b=>{b.status!==r.DONE&&R.push(b)}),f.value=[],R.forEach(b=>{$(b.originalFile,b.name)});return}f.value.splice(0)}}function w(){e.modal.close()}function y(){return e.requester.transformRequestParams({url:"",method:"post",params:{q:"upload",adapter:e.fs.adapter,path:e.fs.data.dirname}})}return d.onMounted(async()=>{p=new Cr({debug:e.debug,restrictions:{maxFileSize:Vr(e.maxFileSize)},locale:s,onBeforeFileAdded(b,L){if(L[b.id]!=null){const G=C(b.id);f.value[G].status===r.PENDING&&(m.value=p.i18n("noDuplicates",{fileName:b.name})),f.value=f.value.filter(K=>K.id!==b.id)}return f.value.push({id:b.id,name:b.name,size:e.filesize(b.size),status:r.PENDING,statusName:t("Pending upload"),percent:null,originalFile:b.data}),!0}}),p.use(Sr,{endpoint:"WILL_BE_REPLACED_BEFORE_UPLOAD",limit:5,timeout:0,getResponseError(b,L){let D;try{D=JSON.parse(b).message}catch{D=t("Cannot parse server response.")}return new Error(D)}}),p.on("restriction-failed",(b,L)=>{const D=f.value[C(b.id)];S(D),m.value=L.message}),p.on("upload",()=>{const b=y();p.setMeta({...b.body});const L=p.getPlugin("XHRUpload");L.opts.method=b.method,L.opts.endpoint=b.url+"?"+new URLSearchParams(b.params),L.opts.headers=b.headers,delete b.headers["Content-Type"],v.value=!0,f.value.forEach(D=>{D.status!==r.DONE&&(D.percent=null,D.status=r.UPLOADING,D.statusName=t("Pending upload"))})}),p.on("upload-progress",(b,L)=>{const D=Math.floor(L.bytesUploaded/L.bytesTotal*100);f.value[C(b.id)].percent=`${D}%`}),p.on("upload-success",b=>{const L=f.value[C(b.id)];L.status=r.DONE,L.statusName=t("Done")}),p.on("upload-error",(b,L)=>{const D=f.value[C(b.id)];D.percent=null,D.status=r.ERROR,L.isNetworkError?D.statusName=t("Network Error, Unable establish connection to the server or interrupted."):D.statusName=L?L.message:t("Unknown Error")}),p.on("error",b=>{m.value=b.message,v.value=!1,e.emitter.emit("vf-fetch",{params:{q:"index",adapter:e.fs.adapter,path:e.fs.data.dirname},noCloseModal:!0})}),p.on("complete",()=>{v.value=!1,e.emitter.emit("vf-fetch",{params:{q:"index",adapter:e.fs.adapter,path:e.fs.data.dirname},noCloseModal:!0})}),u.value.addEventListener("click",()=>{c.value.click()}),_.value.addEventListener("click",()=>{i.value.click()}),l.value.addEventListener("dragover",b=>{b.preventDefault(),h.value=!0}),l.value.addEventListener("dragleave",b=>{b.preventDefault(),h.value=!1});function x(b,L){L.isFile&&L.file(D=>b(L,D)),L.isDirectory&&L.createReader().readEntries(D=>{D.forEach(G=>{x(b,G)})})}l.value.addEventListener("drop",b=>{b.preventDefault(),h.value=!1;const L=/^[/\\](.+)/;[...b.dataTransfer.items].forEach(D=>{D.kind==="file"&&x((G,K)=>{const z=L.exec(G.fullPath);$(K,z[1])},D.webkitGetAsEntry())})});const R=({target:b})=>{const L=b.files;for(const D of L)$(D);b.value=""};c.value.addEventListener("change",R),i.value.addEventListener("change",R)}),d.onBeforeUnmount(()=>{p==null||p.close({reason:"unmount"})}),{__sfc:!0,app:e,t,uppyLocale:s,QUEUE_ENTRY_STATUS:r,definitions:a,container:o,internalFileInput:c,internalFolderInput:i,pickFiles:u,pickFolders:_,dropArea:l,queue:f,message:m,uploading:v,hasFilesInDropArea:h,uppy:p,findQueueEntryIndexById:C,addFile:$,getClassNameForEntry:B,getIconForEntry:k,openFileSelector:O,upload:E,cancel:T,remove:S,clear:F,close:w,buildReqParams:y,ModalLayout:Te,Message:He,title_shorten:Xn,ModalHeader:Le,UploadSVG:Zn}}};var Oo=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.ModalLayout,{scopedSlots:e._u([{key:"buttons",fn:function(){return[t("button",{staticClass:"vf-btn vf-btn-primary",attrs:{type:"button",disabled:s.uploading},on:{click:function(r){return r.preventDefault(),s.upload.apply(null,arguments)}}},[e._v(" "+e._s(s.t("Upload"))+" ")]),s.uploading?t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),s.cancel.apply(null,arguments)}}},[e._v(e._s(s.t("Cancel")))]):t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return r.preventDefault(),s.close.apply(null,arguments)}}},[e._v(e._s(s.t("Close")))])]},proxy:!0}])},[t("div",[t(s.ModalHeader,{attrs:{icon:s.UploadSVG,title:s.t("Upload Files")}}),t("div",{staticClass:"vuefinder__upload-modal__content"},[t("div",{ref:"dropArea",staticClass:"vuefinder__upload-modal__drop-area",on:{click:s.openFileSelector}},[s.hasFilesInDropArea?t("div",{staticClass:"pointer-events-none"},[e._v(" "+e._s(s.t("Release to drop these files."))+" ")]):t("div",{staticClass:"pointer-events-none"},[e._v(" "+e._s(s.t("Drag and drop the files/folders to here or click here."))+" ")])]),t("div",{ref:"container",staticClass:"vuefinder__upload-modal__buttons"},[t("button",{ref:"pickFiles",staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"}},[e._v(" "+e._s(s.t("Select Files"))+" ")]),t("button",{ref:"pickFolders",staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"}},[e._v(" "+e._s(s.t("Select Folders"))+" ")]),t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button",disabled:s.uploading},on:{click:function(r){return s.clear(!1)}}},[e._v(" "+e._s(s.t("Clear all"))+" ")]),t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button",disabled:s.uploading},on:{click:function(r){return s.clear(!0)}}},[e._v(" "+e._s(s.t("Clear only successful"))+" ")])]),t("div",{staticClass:"vuefinder__upload-modal__file-list vf-scrollbar"},[e._l(s.queue,function(r){return t("div",{key:r.id,staticClass:"vuefinder__upload-modal__file-entry"},[t("span",{staticClass:"vuefinder__upload-modal__file-icon",class:s.getClassNameForEntry(r)},[t("span",{staticClass:"vuefinder__upload-modal__file-icon-text",domProps:{textContent:e._s(s.getIconForEntry(r))}})]),t("div",{staticClass:"vuefinder__upload-modal__file-info"},[t("div",{staticClass:"vuefinder__upload-modal__file-name hidden md:block"},[e._v(e._s(s.title_shorten(r.name,40))+" ("+e._s(r.size)+")")]),t("div",{staticClass:"vuefinder__upload-modal__file-name md:hidden"},[e._v(e._s(s.title_shorten(r.name,16))+" ("+e._s(r.size)+")")]),t("div",{staticClass:"vuefinder__upload-modal__file-status",class:s.getClassNameForEntry(r)},[e._v(" "+e._s(r.statusName)+" "),r.status===s.definitions.QUEUE_ENTRY_STATUS.UPLOADING?t("b",{staticClass:"ml-auto"},[e._v(e._s(r.percent))]):e._e()])]),t("button",{staticClass:"vuefinder__upload-modal__file-remove",class:s.uploading?"disabled":"",attrs:{type:"button",title:s.t("Delete"),disabled:s.uploading},on:{click:function(a){return s.remove(r)}}},[t("svg",{staticClass:"vuefinder__upload-modal__file-remove-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"}})])])])}),s.queue.length?e._e():t("div",{staticClass:"py-2"},[e._v(e._s(s.t("No files selected!")))])],2),s.message.length?t(s.Message,{attrs:{error:""},on:{hidden:function(r){s.message=""}}},[e._v(e._s(s.message))]):e._e()],1)],1),t("input",{ref:"internalFileInput",staticClass:"hidden",attrs:{type:"file",multiple:""}}),t("input",{ref:"internalFolderInput",staticClass:"hidden",attrs:{type:"file",multiple:"",webkitdirectory:""}})])},Lo=[],Ro=W(Do,Oo,Lo);const Io=Ro.exports;var Bo=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5m6 4.125 2.25 2.25m0 0 2.25 2.25M12 13.875l2.25-2.25M12 13.875l-2.25 2.25M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125"}})])};const Jn={render:Bo},Po={__name:"ModalUnarchive",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,s=d.ref(e.modal.data.items[0]),r=d.ref(""),a=d.ref([]);return{__sfc:!0,app:e,t,item:s,message:r,items:a,unarchive:()=>{e.emitter.emit("vf-fetch",{params:{q:"unarchive",m:"post",adapter:e.fs.adapter,path:e.fs.data.dirname},body:{item:s.value.path},onSuccess:()=>{e.emitter.emit("vf-toast-push",{label:t("The file unarchived.")})},onError:c=>{r.value=t(c.message)}})},ModalLayout:Te,Message:He,ModalHeader:Le,UnarchiveSVG:Jn}}};var No=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.ModalLayout,{scopedSlots:e._u([{key:"buttons",fn:function(){return[t("button",{staticClass:"vf-btn vf-btn-primary",attrs:{type:"button"},on:{click:s.unarchive}},[e._v(e._s(s.t("Unarchive")))]),t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return s.app.modal.close()}}},[e._v(e._s(s.t("Cancel")))])]},proxy:!0}])},[t("div",[t(s.ModalHeader,{attrs:{icon:s.UnarchiveSVG,title:s.t("Unarchive")}}),t("div",{staticClass:"vuefinder__unarchive-modal__content"},[t("div",{staticClass:"vuefinder__unarchive-modal__items"},[e._l(s.items,function(r){return t("p",{staticClass:"vuefinder__unarchive-modal__item"},[r.type==="dir"?t("svg",{staticClass:"vuefinder__unarchive-modal__icon vuefinder__unarchive-modal__icon--dir",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"}})]):t("svg",{staticClass:"vuefinder__unarchive-modal__icon vuefinder__unarchive-modal__icon--file",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}})]),t("span",{staticClass:"vuefinder__unarchive-modal__item-name"},[e._v(e._s(r.basename))])])}),t("p",{staticClass:"vuefinder__unarchive-modal__info"},[e._v(e._s(s.t("The archive will be unarchived at"))+" ("+e._s(s.app.fs.data.dirname)+")")]),s.message.length?t(s.Message,{attrs:{error:""},on:{hidden:function(r){s.message=""}}},[e._v(e._s(s.message))]):e._e()],2)])],1)])},Ho=[],Uo=W(Po,No,Ho);const er=Uo.exports;var qo=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125"}})])};const tr={render:qo},Go={__name:"ModalArchive",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,s=d.ref(""),r=d.ref(""),a=d.ref(e.modal.data.items);return{__sfc:!0,app:e,t,name:s,message:r,items:a,archive:()=>{a.value.length&&e.emitter.emit("vf-fetch",{params:{q:"archive",m:"post",adapter:e.fs.adapter,path:e.fs.data.dirname},body:{items:a.value.map(({path:c,type:i})=>({path:c,type:i})),name:s.value},onSuccess:()=>{e.emitter.emit("vf-toast-push",{label:t("The file(s) archived.")})},onError:c=>{r.value=t(c.message)}})},ModalLayout:Te,Message:He,ArchiveSVG:tr,ModalHeader:Le}}};var jo=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.ModalLayout,{scopedSlots:e._u([{key:"buttons",fn:function(){return[t("button",{staticClass:"vf-btn vf-btn-primary",attrs:{type:"button"},on:{click:s.archive}},[e._v(e._s(s.t("Archive")))]),t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return s.app.modal.close()}}},[e._v(e._s(s.t("Cancel")))])]},proxy:!0}])},[t("div",[t(s.ModalHeader,{attrs:{icon:s.ArchiveSVG,title:s.t("Archive the files")}}),t("div",{staticClass:"vuefinder__archive-modal__content"},[t("div",{staticClass:"vuefinder__archive-modal__form"},[t("div",{staticClass:"vuefinder__archive-modal__files vf-scrollbar"},e._l(s.items,function(r){return t("p",{staticClass:"vuefinder__archive-modal__file"},[r.type==="dir"?t("svg",{staticClass:"vuefinder__archive-modal__icon vuefinder__archive-modal__icon--dir",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"}})]):t("svg",{staticClass:"vuefinder__archive-modal__icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}})]),t("span",{staticClass:"vuefinder__archive-modal__file-name"},[e._v(e._s(r.basename))])])}),0),t("input",{directives:[{name:"model",rawName:"v-model",value:s.name,expression:"name"}],staticClass:"vuefinder__archive-modal__input",attrs:{placeholder:s.t("Archive name. (.zip file will be created)"),type:"text"},domProps:{value:s.name},on:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:s.archive.apply(null,arguments)},input:function(r){r.target.composing||(s.name=r.target.value)}}}),s.message.length?t(s.Message,{attrs:{error:""},on:{hidden:function(r){s.message=""}}},[e._v(e._s(s.message))]):e._e()],1)])],1)])},zo=[],Wo=W(Go,jo,zo);const sr=Wo.exports;var Ko=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"animate-spin p-0.5 h-5 w-5 text-white ml-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[t("circle",{staticClass:"opacity-25 stroke-blue-900 dark:stroke-blue-100",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),t("path",{staticClass:"opacity-75",attrs:{fill:"currentColor",d:"M4 12a8 8 0 0 1 8-8V0C5.373 0 0 5.373 0 12zm2 5.291A7.96 7.96 0 0 1 4 12H0c0 3.042 1.135 5.824 3 7.938z"}})])};const Ms={render:Ko};var Yo=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto vf-toolbar-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"}})])};const Qo={render:Yo};var Xo=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto vf-toolbar-icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M9 9V4.5M9 9H4.5M9 9 3.75 3.75M9 15v4.5M9 15H4.5M9 15l-5.25 5.25M15 9h4.5M15 9V4.5M15 9l5.25-5.25M15 15h4.5M15 15v4.5m0-4.5 5.25 5.25"}})])};const Zo={render:Xo};var Jo=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M3.75 6A2.25 2.25 0 0 1 6 3.75h2.25A2.25 2.25 0 0 1 10.5 6v2.25a2.25 2.25 0 0 1-2.25 2.25H6a2.25 2.25 0 0 1-2.25-2.25zm0 9.75A2.25 2.25 0 0 1 6 13.5h2.25a2.25 2.25 0 0 1 2.25 2.25V18a2.25 2.25 0 0 1-2.25 2.25H6A2.25 2.25 0 0 1 3.75 18zM13.5 6a2.25 2.25 0 0 1 2.25-2.25H18A2.25 2.25 0 0 1 20.25 6v2.25A2.25 2.25 0 0 1 18 10.5h-2.25a2.25 2.25 0 0 1-2.25-2.25zm0 9.75a2.25 2.25 0 0 1 2.25-2.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-2.25A2.25 2.25 0 0 1 13.5 18z"}})])};const ei={render:Jo};var ti=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 md:h-8 md:w-8 m-auto",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{d:"M3.75 12h16.5m-16.5 3.75h16.5M3.75 19.5h16.5M5.625 4.5h12.75a1.875 1.875 0 0 1 0 3.75H5.625a1.875 1.875 0 0 1 0-3.75"}})])};const si={render:ti},ni={__name:"Toolbar",setup(n){const e=d.inject("ServiceContainer"),{setStore:t}=e.storage,{t:s}=e.i18n,r=e.dragSelect,a=d.ref("");e.emitter.on("vf-search-query",({newQuery:i})=>{a.value=i});const o=()=>{e.fullScreen=!e.fullScreen};return d.watch(()=>e.fullScreen,()=>{e.fullScreen?document.querySelector("body").style.overflow="hidden":document.querySelector("body").style.overflow="",e.emitter.emit("vf-fullscreen-toggle")}),{__sfc:!0,app:e,setStore:t,t:s,ds:r,searchQuery:a,toggleFullScreen:o,toggleView:()=>{e.view=e.view==="list"?"grid":"list",r.refreshSelection(),t("viewport",e.view)},FEATURES:_e,ModalNewFolder:Yn,ModalNewFile:Fo,ModalRename:$s,ModalDelete:Es,ModalUpload:Io,ModalUnarchive:er,ModalArchive:sr,NewFolderSVG:Kn,NewFileSVG:Qn,RenameSVG:Wn,DeleteSVG:zn,UploadSVG:Zn,ArchiveSVG:tr,UnarchiveSVG:Jn,LoadingSVG:Ms,FullscreenSVG:Qo,MinimizeSVG:Zo,GridViewSVG:ei,ListViewSVG:si}}};var ri=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"vuefinder__toolbar"},[s.searchQuery.length?t("div",{staticClass:"vuefinder__toolbar__search-results"},[t("div",{staticClass:"pl-2"},[e._v(" "+e._s(s.t("Search results for"))+" "),t("span",{staticClass:"dark:bg-gray-700 bg-gray-200 text-xs px-2 py-1 rounded"},[e._v(e._s(s.searchQuery))])]),s.app.fs.loading?t(s.LoadingSVG):e._e()],1):t("div",{staticClass:"vuefinder__toolbar__actions"},[s.app.features.includes(s.FEATURES.NEW_FOLDER)?t("div",{staticClass:"mx-1.5",attrs:{title:s.t("New Folder")},on:{click:function(r){s.app.modal.open(s.ModalNewFolder,{items:s.ds.getSelected()})}}},[t(s.NewFolderSVG)],1):e._e(),s.app.features.includes(s.FEATURES.NEW_FILE)?t("div",{staticClass:"mx-1.5",attrs:{title:s.t("New File")},on:{click:function(r){s.app.modal.open(s.ModalNewFile,{items:s.ds.getSelected()})}}},[t(s.NewFileSVG)],1):e._e(),s.app.features.includes(s.FEATURES.RENAME)?t("div",{staticClass:"mx-1.5",attrs:{title:s.t("Rename")},on:{click:function(r){s.ds.getCount()!==1||s.app.modal.open(s.ModalRename,{items:s.ds.getSelected()})}}},[t(s.RenameSVG,{class:s.ds.getCount()===1?"vf-toolbar-icon":"vf-toolbar-icon-disabled"})],1):e._e(),s.app.features.includes(s.FEATURES.DELETE)?t("div",{staticClass:"mx-1.5",attrs:{title:s.t("Delete")},on:{click:function(r){!s.ds.getCount()||s.app.modal.open(s.ModalDelete,{items:s.ds.getSelected()})}}},[t(s.DeleteSVG,{class:s.ds.getCount()?"vf-toolbar-icon":"vf-toolbar-icon-disabled"})],1):e._e(),s.app.features.includes(s.FEATURES.UPLOAD)?t("div",{staticClass:"mx-1.5",attrs:{title:s.t("Upload")},on:{click:function(r){s.app.modal.open(s.ModalUpload,{items:s.ds.getSelected()})}}},[t(s.UploadSVG)],1):e._e(),s.app.features.includes(s.FEATURES.UNARCHIVE)&&s.ds.getCount()===1&&s.ds.getSelected()[0].mime_type==="application/zip"?t("div",{staticClass:"mx-1.5",attrs:{title:s.t("Unarchive")},on:{click:function(r){!s.ds.getCount()||s.app.modal.open(s.ModalUnarchive,{items:s.ds.getSelected()})}}},[t(s.UnarchiveSVG,{class:s.ds.getCount()?"vf-toolbar-icon":"vf-toolbar-icon-disabled"})],1):e._e(),s.app.features.includes(s.FEATURES.ARCHIVE)?t("div",{staticClass:"mx-1.5",attrs:{title:s.t("Archive")},on:{click:function(r){!s.ds.getCount()||s.app.modal.open(s.ModalArchive,{items:s.ds.getSelected()})}}},[t(s.ArchiveSVG,{class:s.ds.getCount()?"vf-toolbar-icon":"vf-toolbar-icon-disabled"})],1):e._e()]),t("div",{staticClass:"vuefinder__toolbar__controls"},[s.app.features.includes(s.FEATURES.FULL_SCREEN)?t("div",{staticClass:"mx-1.5",attrs:{title:s.t("Toggle Full Screen")},on:{click:s.toggleFullScreen}},[s.app.fullScreen?t(s.MinimizeSVG):t(s.FullscreenSVG)],1):e._e(),t("div",{staticClass:"mx-1.5",attrs:{title:s.t("Change View")},on:{click:function(r){s.searchQuery.length||s.toggleView()}}},[s.app.view==="grid"?t(s.GridViewSVG,{staticClass:"vf-toolbar-icon",class:s.searchQuery.length?"vf-toolbar-icon-disabled":""}):e._e(),s.app.view==="list"?t(s.ListViewSVG,{staticClass:"vf-toolbar-icon",class:s.searchQuery.length?"vf-toolbar-icon-disabled":""}):e._e()],1)])])},ai=[],oi=W(ni,ri,ai);const ii=oi.exports,ci=(n,e=0,t=!1)=>{let s;return(...r)=>{t&&!s&&n(...r),clearTimeout(s),s=setTimeout(()=>{n(...r)},e)}},Zs=(n,e,t)=>{const s=d.ref(n);return d.customRef((r,a)=>({get(){return r(),s.value},set:ci(o=>{s.value=o,a()},e,t)}))};var li=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 stroke-blue-600 dark:stroke-blue-100",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2","aria-hidden":"true",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3"}})])};const di={render:li},ui={__name:"ModalMove",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,s=d.ref(e.modal.data.items.from),r=d.ref("");return{__sfc:!0,app:e,t,items:s,message:r,move:()=>{s.value.length&&e.emitter.emit("vf-fetch",{params:{q:"move",m:"post",adapter:e.fs.adapter,path:e.fs.data.dirname},body:{items:s.value.map(({path:o,type:c})=>({path:o,type:c})),item:e.modal.data.items.to.path},onSuccess:()=>{e.emitter.emit("vf-toast-push",{label:t("Files moved.",e.modal.data.items.to.name)})},onError:o=>{r.value=t(o.message)}})},ModalLayout:Te,Message:He,ModalHeader:Le,MoveSVG:di}}};var _i=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.ModalLayout,{scopedSlots:e._u([{key:"buttons",fn:function(){return[t("button",{staticClass:"vf-btn vf-btn-primary",attrs:{type:"button"},on:{click:s.move}},[e._v(e._s(s.t("Yes, Move!")))]),t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return s.app.modal.close()}}},[e._v(e._s(s.t("Cancel")))]),t("div",{staticClass:"vuefinder__move-modal__selected-items"},[e._v(e._s(s.t("%s item(s) selected.",s.items.length)))])]},proxy:!0}])},[t("div",[t(s.ModalHeader,{attrs:{icon:s.MoveSVG,title:s.t("Move files")}}),t("div",{staticClass:"vuefinder__move-modal__content"},[t("p",{staticClass:"vuefinder__move-modal__description"},[e._v(e._s(s.t("Are you sure you want to move these files?")))]),t("div",{staticClass:"vuefinder__move-modal__files vf-scrollbar"},e._l(s.items,function(r){return t("div",{staticClass:"vuefinder__move-modal__file"},[t("div",[r.type==="dir"?t("svg",{staticClass:"vuefinder__move-modal__icon vuefinder__move-modal__icon--dir",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"}})]):t("svg",{staticClass:"vuefinder__move-modal__icon",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 002-2V9.414a1 1 0 00-.293-.707l-5.414-5.414A1 1 0 0012.586 3H7a2 2 0 00-2 2v14a2 2 0 002 2z"}})])]),t("div",{staticClass:"vuefinder__move-modal__file-name"},[e._v(e._s(r.path))])])}),0),t("h4",{staticClass:"vuefinder__move-modal__target-title"},[e._v(e._s(s.t("Target Directory")))]),t("p",{staticClass:"vuefinder__move-modal__target-directory"},[t("svg",{staticClass:"vuefinder__move-modal__icon vuefinder__move-modal__icon--dir",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"1"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-6l-2-2H5a2 2 0 00-2 2z"}})]),t("span",{staticClass:"vuefinder__move-modal__target-path"},[e._v(e._s(s.app.modal.data.items.to.path))])]),s.message.length?t(s.Message,{attrs:{error:""},on:{hidden:function(r){s.message=""}}},[e._v(e._s(s.message))]):e._e()],1)],1)])},vi=[],fi=W(ui,_i,vi);const us=fi.exports;var pi=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"-40 -40 580 580"}},[t("path",{attrs:{d:"M463.5 224h8.5c13.3 0 24-10.7 24-24V72c0-9.7-5.8-18.5-14.8-22.2S461.9 48.1 455 55l-41.6 41.6c-87.6-86.5-228.7-86.2-315.8 1-87.5 87.5-87.5 229.3 0 316.8s229.3 87.5 316.8 0c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0c-62.5 62.5-163.8 62.5-226.3 0s-62.5-163.8 0-226.3c62.2-62.2 162.7-62.5 225.3-1L327 183c-6.9 6.9-8.9 17.2-5.2 26.2S334.3 224 344 224z"}})])};const mi={render:pi};var hi=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 p-0.5 rounded",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{staticClass:"pointer-events-none",attrs:{"fill-rule":"evenodd",d:"M5.293 9.707a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L11 7.414V15a1 1 0 1 1-2 0V7.414L6.707 9.707a1 1 0 0 1-1.414 0","clip-rule":"evenodd"}})])};const gi={render:hi};var bi=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-300 dark:text-neutral-200 dark:hover:bg-gray-700 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"}})])};const wi={render:bi};var yi=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 p-1 rounded text-slate-700 hover:bg-neutral-100 dark:text-neutral-300 dark:hover:bg-gray-800 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{staticClass:"pointer-events-none",attrs:{d:"M10.707 2.293a1 1 0 0 0-1.414 0l-7 7a1 1 0 0 0 1.414 1.414L4 10.414V17a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v2a1 1 0 0 0 1 1h2a1 1 0 0 0 1-1v-6.586l.293.293a1 1 0 0 0 1.414-1.414z"}})])};const Ci={render:yi};var Si=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 p-1 m-auto stroke-gray-400 fill-gray-100 dark:stroke-gray-400 dark:fill-gray-400/20",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{attrs:{d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607"}})])};const xi={render:Si};var ki=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"w-6 h-6 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18 18 6M6 6l12 12"}})])};const Ei={render:ki};var $i=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"text-neutral-500 fill-sky-500 stroke-sky-500 dark:fill-slate-500 dark:stroke-slate-500",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3 7v10a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-6l-2-2H5a2 2 0 0 0-2 2"}})])};const Nt={render:$i};var Mi=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 p-1 rounded text-slate-700 dark:text-neutral-300 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"}},[t("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z"}}),t("path",{attrs:{d:"M9 6h11M12 12h8M15 18h5M5 6v.01M8 12v.01M11 18v.01"}})])};const Ai={render:Mi};var Ti=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-6 w-6 rounded text-slate-700 hover:bg-neutral-100 dark:fill-neutral-300 dark:hover:bg-gray-800 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"}},[t("path",{attrs:{d:"M8 256a56 56 0 1 1 112 0 56 56 0 1 1-112 0m160 0a56 56 0 1 1 112 0 56 56 0 1 1-112 0m216-56a56 56 0 1 1 0 112 56 56 0 1 1 0-112"}})])};const Fi={render:Ti},Vi={__name:"Breadcrumb",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,s=e.dragSelect,{setStore:r}=e.storage,a=d.ref(null),o=Zs(0,100);d.watch(o,S=>{const F=a.value.children;let w=0,y=0,x=5,R=1;e.fs.limitBreadcrumbItems(x),d.nextTick(()=>{for(let b=F.length-1;b>=0&&!(w+F[b].offsetWidth>o.value-40);b--)w+=parseInt(F[b].offsetWidth,10),y++;y<R&&(y=R),y>x&&(y=x),e.fs.limitBreadcrumbItems(y)})});const c=()=>{o.value=a.value.offsetWidth};let i=d.ref(null);d.onMounted(()=>{i.value=new ResizeObserver(c),i.value.observe(a.value)}),d.onUnmounted(()=>{i.value.disconnect()});const u=(S,F=null)=>{S.preventDefault(),s.isDraggingRef.value=!1,f(S),F??(F=e.fs.hiddenBreadcrumbs.length-1);let w=JSON.parse(S.dataTransfer.getData("items"));if(w.find(y=>y.storage!==e.fs.adapter)){alert("Moving items between different storages is not supported yet.");return}e.modal.open(us,{items:{from:w,to:e.fs.hiddenBreadcrumbs[F]??{path:e.fs.adapter+"://"}}})},_=(S,F=null)=>{S.preventDefault(),s.isDraggingRef.value=!1,f(S),F??(F=e.fs.breadcrumbs.length-2);let w=JSON.parse(S.dataTransfer.getData("items"));if(w.find(y=>y.storage!==e.fs.adapter)){alert("Moving items between different storages is not supported yet.");return}e.modal.open(us,{items:{from:w,to:e.fs.breadcrumbs[F]??{path:e.fs.adapter+"://"}}})},l=S=>{S.preventDefault(),e.fs.isGoUpAvailable()?(S.dataTransfer.dropEffect="copy",S.currentTarget.classList.add("bg-blue-200","dark:bg-slate-600")):(S.dataTransfer.dropEffect="none",S.dataTransfer.effectAllowed="none")},f=S=>{S.preventDefault(),S.currentTarget.classList.remove("bg-blue-200","dark:bg-slate-600"),e.fs.isGoUpAvailable()&&S.currentTarget.classList.remove("bg-blue-200","dark:bg-slate-600")},m=()=>{E(),e.emitter.emit("vf-fetch",{params:{q:"index",adapter:e.fs.adapter,path:e.fs.data.dirname}})},v=()=>{E(),!e.fs.isGoUpAvailable()||e.emitter.emit("vf-fetch",{params:{q:"index",adapter:e.fs.adapter,path:e.fs.parentFolderPath}})},h=S=>{e.emitter.emit("vf-fetch",{params:{q:"index",adapter:e.fs.adapter,path:S.path}}),e.fs.toggleHiddenBreadcrumbs(!1)},p=()=>{e.fs.showHiddenBreadcrumbs&&e.fs.toggleHiddenBreadcrumbs(!1)},C={mounted(S,F,w,y){S.clickOutsideEvent=function(x){S===x.target||S.contains(x.target)||F.value()},document.body.addEventListener("click",S.clickOutsideEvent)},beforeUnmount(S,F,w,y){document.body.removeEventListener("click",S.clickOutsideEvent)}},$=()=>{e.showTreeView=!e.showTreeView};d.watch(()=>e.showTreeView,(S,F)=>{S!==F&&r("show-tree-view",S)});const B=d.ref(null),k=()=>{e.features.includes(_e.SEARCH)&&(e.fs.searchMode=!0,d.nextTick(()=>B.value.focus()))},O=Zs("",400);d.watch(O,S=>{e.emitter.emit("vf-toast-clear"),e.emitter.emit("vf-search-query",{newQuery:S})}),d.watch(()=>e.fs.searchMode,S=>{S&&d.nextTick(()=>B.value.focus())});const E=()=>{e.fs.searchMode=!1,O.value=""};return e.emitter.on("vf-search-exit",()=>{E()}),{__sfc:!0,app:e,t,ds:s,setStore:r,breadcrumbContainer:a,breadcrumbContainerWidth:o,updateContainerWidth:c,resizeObserver:i,handleHiddenBreadcrumbDropZone:u,handleDropZone:_,handleDragOver:l,handleDragLeave:f,handleRefresh:m,handleGoUp:v,handleHiddenBreadcrumbsClick:h,handleClickOutside:p,vClickOutside:C,toggleTreeView:$,searchInput:B,enterSearchMode:k,query:O,exitSearchMode:E,handleBlur:()=>{O.value===""&&E()},RefreshSVG:mi,GoUpSVG:gi,CloseSVG:wi,HomeSVG:Ci,SearchSVG:xi,LoadingSVG:Ms,ExitSVG:Ei,FolderSVG:Nt,ListTreeSVG:Ai,DotsSVG:Fi}}};var Di=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"vuefinder__breadcrumb__container"},[t("span",{attrs:{title:s.t("Toggle Tree View")}},[t(s.ListTreeSVG,{staticClass:"vuefinder__breadcrumb__toggle-tree",class:s.app.showTreeView?"vuefinder__breadcrumb__toggle-tree--active":"",nativeOn:{click:function(r){return s.toggleTreeView.apply(null,arguments)}}})],1),t("span",{attrs:{title:s.t("Go up a directory")}},[t(s.GoUpSVG,{class:s.app.fs.isGoUpAvailable()?"vuefinder__breadcrumb__go-up--active":"vuefinder__breadcrumb__go-up--inactive",nativeOn:{dragover:function(r){return s.handleDragOver(r)},dragleave:function(r){return s.handleDragLeave(r)},drop:function(r){return s.handleDropZone(r)},click:function(r){return s.handleGoUp.apply(null,arguments)}}})],1),s.app.fs.loading?t("span",{attrs:{title:s.t("Cancel")}},[t(s.CloseSVG,{nativeOn:{click:function(r){return s.app.emitter.emit("vf-fetch-abort")}}})],1):t("span",{attrs:{title:s.t("Refresh")}},[t(s.RefreshSVG,{nativeOn:{click:function(r){return s.handleRefresh.apply(null,arguments)}}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:!s.app.fs.searchMode,expression:"!app.fs.searchMode"}],staticClass:"group vuefinder__breadcrumb__search-container",on:{click:function(r){return r.target!==r.currentTarget?null:s.enterSearchMode.apply(null,arguments)}}},[t("div",[t(s.HomeSVG,{nativeOn:{dragover:function(r){return s.handleDragOver(r)},dragleave:function(r){return s.handleDragLeave(r)},drop:function(r){return s.handleDropZone(r,-1)},click:function(r){e.handleHomeClick,s.app.emitter.emit("vf-fetch",{params:{q:"index",adapter:s.app.fs.adapter}})}}})],1),t("div",{staticClass:"vuefinder__breadcrumb__list"},[s.app.fs.hiddenBreadcrumbs.length?t("div",{directives:[{name:"click-outside",rawName:"v-click-outside",value:s.handleClickOutside,expression:"handleClickOutside"}],staticClass:"vuefinder__breadcrumb__hidden-list"},[t("div",{staticClass:"vuefinder__breadcrumb__separator"},[e._v("/")]),t("div",{staticClass:"relative"},[t("span",{staticClass:"vuefinder__breadcrumb__hidden-toggle",on:{dragenter:function(r){return s.app.fs.toggleHiddenBreadcrumbs(!0)},click:function(r){return s.app.fs.toggleHiddenBreadcrumbs()}}},[t(s.DotsSVG,{staticClass:"vuefinder__breadcrumb__hidden-toggle-icon"})],1)])]):e._e()]),t("div",{ref:"breadcrumbContainer",staticClass:"vuefinder__breadcrumb__visible-list",on:{click:function(r){return r.target!==r.currentTarget?null:s.enterSearchMode.apply(null,arguments)}}},e._l(s.app.fs.breadcrumbs,function(r,a){return t("div",{key:a},[t("span",{staticClass:"vuefinder__breadcrumb__separator"},[e._v("/")]),t("span",{staticClass:"vuefinder__breadcrumb__item",attrs:{title:r.basename},on:{dragover:function(o){a===s.app.fs.breadcrumbs.length-1||s.handleDragOver(o)},dragleave:function(o){a===s.app.fs.breadcrumbs.length-1||s.handleDragLeave(o)},drop:function(o){a===s.app.fs.breadcrumbs.length-1||s.handleDropZone(o,a)},click:function(o){return s.app.emitter.emit("vf-fetch",{params:{q:"index",adapter:s.app.fs.adapter,path:r.path}})}}},[e._v(e._s(r.name))])])}),0),s.app.fs.loading?t(s.LoadingSVG):e._e()],1),t("div",{directives:[{name:"show",rawName:"v-show",value:s.app.fs.searchMode,expression:"app.fs.searchMode"}],staticClass:"vuefinder__breadcrumb__search-mode"},[t("div",[t(s.SearchSVG)],1),t("input",{directives:[{name:"model",rawName:"v-model",value:s.query,expression:"query"}],ref:"searchInput",staticClass:"vuefinder__breadcrumb__search-input",attrs:{placeholder:s.t("Search anything.."),type:"text"},domProps:{value:s.query},on:{keydown:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"esc",27,r.key,["Esc","Escape"])?null:s.exitSearchMode.apply(null,arguments)},blur:s.handleBlur,input:function(r){r.target.composing||(s.query=r.target.value)}}}),t(s.ExitSVG,{nativeOn:{click:function(r){return s.exitSearchMode.apply(null,arguments)}}})],1),t("div",{directives:[{name:"show",rawName:"v-show",value:s.app.fs.showHiddenBreadcrumbs,expression:"app.fs.showHiddenBreadcrumbs"}],staticClass:"vuefinder__breadcrumb__hidden-dropdown"},e._l(s.app.fs.hiddenBreadcrumbs,function(r,a){return t("div",{key:a,staticClass:"vuefinder__breadcrumb__hidden-item",on:{dragover:function(o){return s.handleDragOver(o)},dragleave:function(o){return s.handleDragLeave(o)},drop:function(o){return s.handleHiddenBreadcrumbDropZone(o,a)},click:function(o){return s.handleHiddenBreadcrumbsClick(r)}}},[t("div",{staticClass:"vuefinder__breadcrumb__hidden-item-content"},[t("span",[t(s.FolderSVG,{staticClass:"vuefinder__breadcrumb__hidden-item-icon"})],1),t("span",{staticClass:"vuefinder__breadcrumb__hidden-item-text"},[e._v(e._s(r.name))])])])}),0)])},Oi=[],Li=W(Vi,Di,Oi);const Ri=Li.exports,nr=(n,e=null)=>new Date(n*1e3).toLocaleString(e??navigator.language??"en-US"),Ii={__name:"Toast",setup(n){const e=d.inject("ServiceContainer"),{getStore:t}=e.storage,s=d.ref(e.fullScreen),r=d.ref([]),a=i=>i==="error"?"text-red-400 border-red-400 dark:text-red-300 dark:border-red-300":"text-lime-600 border-lime-600 dark:text-lime-300 dark:border-lime-1300",o=i=>{r.value.splice(i,1)},c=i=>{let u=r.value.findIndex(_=>_.id===i);u!==-1&&o(u)};return e.emitter.on("vf-toast-clear",()=>{r.value=[]}),e.emitter.on("vf-toast-push",i=>{let u=new Date().getTime().toString(36).concat(performance.now().toString(),Math.random().toString()).replace(/\./g,"");i.id=u,r.value.push(i),setTimeout(()=>{c(u)},5e3)}),{__sfc:!0,app:e,getStore:t,fullScreen:s,messageQueue:r,getTypeClass:a,removeItem:o,removeItemByID:c}}};var Bi=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{class:["vuefinder__toast",s.fullScreen.value?"vuefinder__toast--fixed":"vuefinder__toast--absolute"]},[t("transition-group",{attrs:{name:"vuefinder__toast-item","enter-active-class":"vuefinder__toast-item--enter-active","leave-active-class":"vuefinder__toast-item--leave-active","leave-to-class":"vuefinder__toast-item--leave-to"}},e._l(s.messageQueue,function(r,a){return t("div",{key:a,class:["vuefinder__toast__message",s.getTypeClass(r.type)],on:{click:function(o){return s.removeItem(a)}}},[e._v(" "+e._s(r.label)+" ")])}),0)],1)},Pi=[],Ni=W(Ii,Bi,Pi);const Hi=Ni.exports;var Ui=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 0 1 1.414 0L10 10.586l3.293-3.293a1 1 0 1 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414","clip-rule":"evenodd"}})])};const qi={render:Ui};var Gi=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 20 20"}},[t("path",{attrs:{"fill-rule":"evenodd",d:"M14.707 12.707a1 1 0 0 1-1.414 0L10 9.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414","clip-rule":"evenodd"}})])};const ji={render:Gi},zi={__name:"SortIcon",props:{direction:String},setup(n){return{__sfc:!0,AscSVG:qi,DescSVG:ji}}};var Wi=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",[e.direction==="asc"?t(s.AscSVG):e._e(),e.direction==="desc"?t(s.DescSVG):e._e()],1)},Ki=[],Yi=W(zi,Wi,Ki);const Qi=Yi.exports;var Xi=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"text-neutral-500",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 0 0 2-2V9.414a1 1 0 0 0-.293-.707l-5.414-5.414A1 1 0 0 0 12.586 3H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2"}})])};const Zi={render:Xi},Ji={__name:"ItemIcon",props:{type:{type:String,required:!0},small:{type:Boolean,default:!1}},setup(n){return{__sfc:!0,FileSVG:Zi,FolderSVG:Nt}}};var ec=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("span",{staticClass:"vuefinder__item-icon"},[e.type==="dir"?t(s.FolderSVG,{class:e.small?"vuefinder__item-icon--small":"vuefinder__item-icon--large"}):t(s.FileSVG,{class:e.small?"vuefinder__item-icon--small":"vuefinder__item-icon--large"})],1)},tc=[],sc=W(Ji,ec,tc);const nc=sc.exports;var rc=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"absolute h-6 w-6 md:h-12 md:w-12 m-auto stroke-neutral-500 fill-white dark:fill-gray-700 dark:stroke-gray-600 z-10",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M7 21h10a2 2 0 0 0 2-2V9.414a1 1 0 0 0-.293-.707l-5.414-5.414A1 1 0 0 0 12.586 3H7a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2"}})])};const ac={render:rc},oc={__name:"DragItem",props:{count:{type:Number,default:0}},setup(n){return{__sfc:!0,props:n,DragSVG:ac}}};var ic=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"vuefinder__drag-item__container"},[t(s.DragSVG),t("div",{staticClass:"vuefinder__drag-item__count"},[e._v(e._s(s.props.count))])],1)},cc=[],lc=W(oc,ic,cc);const dc=lc.exports,uc={__name:"Default",emits:["success"],setup(n,{emit:e}){const t=d.inject("ServiceContainer");return d.onMounted(()=>{e("success")}),{__sfc:!0,app:t,emit:e}}};var _c=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"vuefinder__default-preview"},[t("div",{staticClass:"vuefinder__default-preview__header"},[t("h3",{staticClass:"vuefinder__default-preview__title",attrs:{id:"modal-title",title:s.app.modal.data.item.path}},[e._v(" "+e._s(s.app.modal.data.item.basename)+" ")])]),t("div")])},vc=[],fc=W(uc,_c,vc);const pc=fc.exports,mc={__name:"Video",emits:["success"],setup(n,{emit:e}){const t=d.inject("ServiceContainer"),s=()=>t.requester.getPreviewUrl(t.modal.data.adapter,t.modal.data.item);return d.onMounted(()=>{e("success")}),{__sfc:!0,app:t,emit:e,getVideoUrl:s}}};var hc=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"vuefinder__video-preview"},[t("h3",{staticClass:"vuefinder__video-preview__title",attrs:{id:"modal-title",title:s.app.modal.data.item.path}},[e._v(" "+e._s(s.app.modal.data.item.basename)+" ")]),t("div",[t("video",{staticClass:"vuefinder__video-preview__video",attrs:{preload:"",controls:""}},[t("source",{attrs:{src:s.getVideoUrl(),type:"video/mp4"}}),e._v(" Your browser does not support the video tag. ")])])])},gc=[],bc=W(mc,hc,gc);const wc=bc.exports,yc={__name:"Audio",emits:["success"],setup(n,{emit:e}){const t=d.inject("ServiceContainer"),s=()=>t.requester.getPreviewUrl(t.modal.data.adapter,t.modal.data.item);return d.onMounted(()=>{e("success")}),{__sfc:!0,emit:e,app:t,getAudioUrl:s}}};var Cc=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"vuefinder__audio-preview"},[t("h3",{staticClass:"vuefinder__audio-preview__title",attrs:{id:"modal-title",title:s.app.modal.data.item.path}},[e._v(" "+e._s(s.app.modal.data.item.basename)+" ")]),t("div",[t("audio",{staticClass:"vuefinder__audio-preview__audio",attrs:{controls:""}},[t("source",{attrs:{src:s.getAudioUrl(),type:"audio/mpeg"}}),e._v(" Your browser does not support the audio element. ")])])])},Sc=[],xc=W(yc,Cc,Sc);const kc=xc.exports,Ec={__name:"Pdf",emits:["success"],setup(n,{emit:e}){const t=d.inject("ServiceContainer"),s=()=>t.requester.getPreviewUrl(t.modal.data.adapter,t.modal.data.item);return d.onMounted(()=>{e("success")}),{__sfc:!0,app:t,emit:e,getPDFUrl:s}}};var $c=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"vuefinder__pdf-preview"},[t("h3",{staticClass:"vuefinder__pdf-preview__title",attrs:{id:"modal-title",title:s.app.modal.data.item.path}},[e._v(" "+e._s(s.app.modal.data.item.basename)+" ")]),t("div",[t("object",{staticClass:"vuefinder__pdf-preview__object",attrs:{data:s.getPDFUrl(),type:"application/pdf",width:"100%",height:"100%"}},[t("iframe",{staticClass:"vuefinder__pdf-preview__iframe",attrs:{src:s.getPDFUrl(),width:"100%",height:"100%"}})])])])},Mc=[],Ac=W(Ec,$c,Mc);const Tc=Ac.exports,Fc={__name:"ModalPreview",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,s=d.ref(!1),r=o=>(e.modal.data.item.mime_type??"").startsWith(o),a=e.features.includes(_e.PREVIEW);return a||(s.value=!0),{__sfc:!0,app:e,t,loaded:s,loadPreview:r,enabledPreview:a,ModalLayout:Te,Default:pc,Video:wc,Audio:kc,Pdf:Tc,datetimestring:nr,FEATURES:_e}}};var Vc=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t(s.ModalLayout,{scopedSlots:e._u([{key:"buttons",fn:function(){return[t("button",{staticClass:"vf-btn vf-btn-secondary",attrs:{type:"button"},on:{click:function(r){return s.app.modal.close()}}},[e._v(e._s(s.t("Close")))]),s.app.features.includes(s.FEATURES.DOWNLOAD)?t("a",{staticClass:"vf-btn vf-btn-primary",attrs:{target:"_blank",download:s.app.requester.getDownloadUrl(s.app.modal.data.adapter,s.app.modal.data.item),href:s.app.requester.getDownloadUrl(s.app.modal.data.adapter,s.app.modal.data.item)}},[e._v(e._s(s.t("Download")))]):e._e()]},proxy:!0}])},[t("div",[t("div",{staticClass:"vuefinder__preview-modal__content"},[s.enabledPreview?t("div",[s.loadPreview("text")?t("Text",{on:{success:function(r){s.loaded=!0}}}):s.loadPreview("image")?t("Image",{on:{success:function(r){s.loaded=!0}}}):s.loadPreview("video")?t(s.Video,{on:{success:function(r){s.loaded=!0}}}):s.loadPreview("audio")?t(s.Audio,{on:{success:function(r){s.loaded=!0}}}):s.loadPreview("application/pdf")?t(s.Pdf,{on:{success:function(r){s.loaded=!0}}}):t(s.Default,{on:{success:function(r){s.loaded=!0}}})],1):e._e(),t("div",{staticClass:"vuefinder__preview-modal__loading"},[s.loaded===!1?t("div",{staticClass:"vuefinder__preview-modal__loading-indicator"},[t("svg",{staticClass:"vuefinder__preview-modal__spinner",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"}},[t("circle",{staticClass:"vuefinder__preview-modal__spinner-circle",attrs:{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}}),t("path",{staticClass:"vuefinder__preview-modal__spinner-path",attrs:{fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"}})]),t("span",[e._v(e._s(s.t("Loading")))])]):e._e()])])]),t("div",{staticClass:"vuefinder__preview-modal__details"},[t("div",[t("span",{staticClass:"font-bold"},[e._v(e._s(s.t("File Size"))+": ")]),e._v(e._s(s.app.filesize(s.app.modal.data.item.file_size)))]),t("div",[t("span",{staticClass:"font-bold pl-2"},[e._v(e._s(s.t("Last Modified"))+": ")]),e._v(" "+e._s(s.datetimestring(s.app.modal.data.item.last_modified)))])]),s.app.features.includes(s.FEATURES.DOWNLOAD)?t("div",{staticClass:"vuefinder__preview-modal__note"},[t("span",[e._v(e._s(s.t(`Download doesn't work? You can try right-click "Download" button, select "Save link as...".`)))])]):e._e()])},Dc=[],Oc=W(Fc,Vc,Dc);const rr=Oc.exports;var Lc=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"}},[t("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z"}}),t("path",{attrs:{d:"m15 4.5-4 4L7 10l-1.5 1.5 7 7L14 17l1.5-4 4-4M9 15l-4.5 4.5M14.5 4 20 9.5"}})])};const ar={render:Lc},Rc={__name:"Item",props:{item:{type:Object},index:{type:Number},dragImage:{type:Object}},setup(n){const e=n,t=d.inject("ServiceContainer"),s=t.dragSelect,r=v=>{v.type==="dir"?(t.emitter.emit("vf-search-exit"),t.emitter.emit("vf-fetch",{params:{q:"index",adapter:t.fs.adapter,path:v.path}})):t.modal.open(rr,{adapter:t.fs.adapter,item:v})},a={mounted(v,h,p,C){p.props.draggable&&(v.addEventListener("dragstart",$=>o($,h.value)),v.addEventListener("dragover",$=>i($,h.value)),v.addEventListener("drop",$=>c($,h.value)))},beforeUnmount(v,h,p,C){p.props.draggable&&(v.removeEventListener("dragstart",o),v.removeEventListener("dragover",i),v.removeEventListener("drop",c))}},o=(v,h)=>{if(v.altKey||v.ctrlKey||v.metaKey)return v.preventDefault(),!1;s.isDraggingRef.value=!0,v.dataTransfer.setDragImage(e.dragImage.$el,0,15),v.dataTransfer.effectAllowed="all",v.dataTransfer.dropEffect="copy",v.dataTransfer.setData("items",JSON.stringify(s.getSelected()))},c=(v,h)=>{v.preventDefault(),s.isDraggingRef.value=!1;let p=JSON.parse(v.dataTransfer.getData("items"));if(p.find(C=>C.storage!==t.fs.adapter)){alert("Moving items between different storages is not supported yet.");return}t.modal.open(us,{items:{from:p,to:h}})},i=(v,h)=>{v.preventDefault(),!h||h.type!=="dir"||s.getSelection().find(p=>p===v.currentTarget)?(v.dataTransfer.dropEffect="none",v.dataTransfer.effectAllowed="none"):v.dataTransfer.dropEffect="copy"};let u=null,_=null,l=!1;return{__sfc:!0,app:t,ds:s,props:e,openItem:r,vDraggable:a,handleDragStart:o,handleDropZone:c,handleDragOver:i,touchTimeOut:u,doubleTapTimeOut:_,tappedTwice:l,clearTimeOut:()=>{u&&clearTimeout(u)},delayedOpenItem:v=>{if(!l)l=!0,_=setTimeout(()=>l=!1,300);else return l=!1,r(e.item),clearTimeout(u),!1;u=setTimeout(()=>{const h=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!1,view:window,button:2,buttons:0,clientX:v.target.getBoundingClientRect().x,clientY:v.target.getBoundingClientRect().y});v.target.dispatchEvent(h)},500)},PinSVG:ar}}};var Ic=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{directives:[{name:"draggable",rawName:"v-draggable",value:e.item,expression:"item"}],key:e.item.path,class:["vuefinder__item","vf-item-"+s.ds.explorerId],style:{opacity:s.ds.isDraggingRef.value&&s.ds.getSelection().find(r=>e.$el===r)?"0.5 !important":""},attrs:{"data-type":e.item.type,"data-item":JSON.stringify(e.item),"data-index":e.index},on:{dblclick:function(r){return s.openItem(e.item)},touchstart:function(r){return s.delayedOpenItem(r)},touchend:function(r){return s.clearTimeOut()},contextmenu:function(r){r.preventDefault(),s.app.emitter.emit("vf-contextmenu-show",{event:r,items:s.ds.getSelected(),target:e.item})}}},[e._t("default"),s.app.pinnedFolders.find(r=>r.path===e.item.path)?t(s.PinSVG,{staticClass:"vuefinder__item--pinned"}):e._e()],2)},Bc=[],Pc=W(Rc,Ic,Bc);const Nc=Pc.exports,Hc={__name:"Explorer",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,s=l=>l==null?void 0:l.substring(0,3),r=d.ref(null),a=d.ref(""),o=e.dragSelect;let c;e.emitter.on("vf-fullscreen-toggle",()=>{o.area.value.style.height=null}),e.emitter.on("vf-search-query",({newQuery:l})=>{a.value=l,l?e.emitter.emit("vf-fetch",{params:{q:"search",adapter:e.fs.adapter,path:e.fs.data.dirname,filter:l},onSuccess:f=>{f.files.length||e.emitter.emit("vf-toast-push",{label:t("No search result found.")})}}):e.emitter.emit("vf-fetch",{params:{q:"index",adapter:e.fs.adapter,path:e.fs.data.dirname}})});const i=d.reactive({active:!1,column:"",order:""}),u=(l=!0)=>{let f=[...e.fs.data.files],m=i.column,v=i.order==="asc"?1:-1;if(!l)return f;const h=(p,C)=>typeof p=="string"&&typeof C=="string"?p.toLowerCase().localeCompare(C.toLowerCase()):p<C?-1:p>C?1:0;return i.active&&(f=f.slice().sort((p,C)=>h(p[m],C[m])*v)),f},_=l=>{i.active&&i.column===l?(i.active=i.order==="asc",i.column=l,i.order="desc"):(i.active=!0,i.column=l,i.order="asc")};return d.onMounted(()=>{c=new xr(o.area.value)}),d.onUpdated(()=>{c.update()}),d.onBeforeUnmount(()=>{c.destroy()}),{__sfc:!0,app:e,t,ext:s,dragImage:r,searchQuery:a,ds:o,vfLazyLoad:c,sort:i,getItems:u,sortBy:_,datetimestring:nr,title_shorten:Xn,Toast:Hi,SortIcon:Qi,ItemIcon:nc,DragItem:dc,Item:Nc}}};var Uc=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"vuefinder__explorer__container"},[s.app.view==="list"||s.searchQuery.length?t("div",{staticClass:"vuefinder__explorer__header"},[t("div",{staticClass:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--name vf-sort-button",on:{click:function(r){return s.sortBy("basename")}}},[e._v(" "+e._s(s.t("Name"))+" "),t(s.SortIcon,{directives:[{name:"show",rawName:"v-show",value:s.sort.active&&s.sort.column==="basename",expression:"sort.active && sort.column === 'basename'"}],attrs:{direction:s.sort.order}})],1),s.searchQuery.length?e._e():t("div",{staticClass:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--size vf-sort-button",on:{click:function(r){return s.sortBy("file_size")}}},[e._v(" "+e._s(s.t("Size"))+" "),t(s.SortIcon,{directives:[{name:"show",rawName:"v-show",value:s.sort.active&&s.sort.column==="file_size",expression:"sort.active && sort.column === 'file_size'"}],attrs:{direction:s.sort.order}})],1),s.searchQuery.length?e._e():t("div",{staticClass:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--date vf-sort-button",on:{click:function(r){return s.sortBy("last_modified")}}},[e._v(" "+e._s(s.t("Date"))+" "),t(s.SortIcon,{directives:[{name:"show",rawName:"v-show",value:s.sort.active&&s.sort.column==="last_modified",expression:"sort.active && sort.column === 'last_modified'"}],attrs:{direction:s.sort.order}})],1),s.searchQuery.length?t("div",{staticClass:"vuefinder__explorer__sort-button vuefinder__explorer__sort-button--path vf-sort-button",on:{click:function(r){return s.sortBy("path")}}},[e._v(" "+e._s(s.t("Filepath"))+" "),t(s.SortIcon,{directives:[{name:"show",rawName:"v-show",value:s.sort.active&&s.sort.column==="path",expression:"sort.active && sort.column === 'path'"}],attrs:{direction:s.sort.order}})],1):e._e()]):e._e(),t("div",{staticClass:"vuefinder__explorer__drag-item"},[t(s.DragItem,{ref:"dragImage",attrs:{count:s.ds.getCount()}})],1),t("div",{ref:s.ds.scrollBarContainer,staticClass:"vf-explorer-scrollbar-container vuefinder__explorer__scrollbar-container",class:[{"grid-view":s.app.view==="grid"},{"search-active":s.searchQuery.length}]},[t("div",{ref:s.ds.scrollBar,staticClass:"vuefinder__explorer__scrollbar"})]),t("div",{ref:s.ds.area,staticClass:"vuefinder__explorer__selector-area vf-explorer-scrollbar vf-selector-area",on:{contextmenu:function(r){if(r.target!==r.currentTarget)return null;r.preventDefault(),s.app.emitter.emit("vf-contextmenu-show",{event:r,items:s.ds.getSelected()})}}},[e._l(s.getItems(),function(r,a){return s.searchQuery.length?t(s.Item,{staticClass:"vf-item vf-item-list",attrs:{item:r,index:a,dragImage:s.dragImage}},[t("div",{staticClass:"vuefinder__explorer__item-list-content"},[t("div",{staticClass:"vuefinder__explorer__item-list-name"},[t(s.ItemIcon,{attrs:{type:r.type,small:s.app.compactListView}}),t("span",{staticClass:"vuefinder__explorer__item-name"},[e._v(e._s(r.basename))])],1),t("div",{staticClass:"vuefinder__explorer__item-path"},[e._v(e._s(r.path))])])]):e._e()}),e._l(s.getItems(),function(r,a){return s.app.view==="list"&&!s.searchQuery.length?t(s.Item,{key:r.path,staticClass:"vf-item vf-item-list",attrs:{item:r,index:a,dragImage:s.dragImage,draggable:"true"}},[t("div",{staticClass:"vuefinder__explorer__item-list-content"},[t("div",{staticClass:"vuefinder__explorer__item-list-name"},[t(s.ItemIcon,{attrs:{type:r.type,small:s.app.compactListView}}),t("span",{staticClass:"vuefinder__explorer__item-name"},[e._v(e._s(r.basename))])],1),t("div",{staticClass:"vuefinder__explorer__item-size"},[e._v(" "+e._s(r.file_size?s.app.filesize(r.file_size):"")+" ")]),t("div",{staticClass:"vuefinder__explorer__item-date"},[e._v(" "+e._s(s.datetimestring(r.last_modified))+" ")])])]):e._e()}),e._l(s.getItems(!1),function(r,a){return s.app.view==="grid"&&!s.searchQuery.length?t(s.Item,{staticClass:"vf-item vf-item-grid",attrs:{item:r,index:a,dragImage:s.dragImage,draggable:"true"}},[t("div",[t("div",{staticClass:"vuefinder__explorer__item-grid-content"},[(r.mime_type??"").startsWith("image")&&s.app.showThumbnails?t("img",{key:r.path,staticClass:"vuefinder__explorer__item-thumbnail lazy",attrs:{src:"data:image/png;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==","data-src":s.app.requester.getPreviewUrl(s.app.fs.adapter,r),alt:r.basename}}):t(s.ItemIcon,{attrs:{type:r.type}}),!((r.mime_type??"").startsWith("image")&&s.app.showThumbnails)&&r.type!=="dir"?t("div",{staticClass:"vuefinder__explorer__item-extension"},[e._v(" "+e._s(s.ext(r.extension))+" ")]):e._e()],1),t("span",{staticClass:"vuefinder__explorer__item-title break-all"},[e._v(e._s(s.title_shorten(r.basename)))])])]):e._e()})],2),t(s.Toast)],1)},qc=[],Gc=W(Hc,Uc,qc);const jc=Gc.exports,zc={__name:"ContextMenu",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,s=d.ref(null),r=d.ref([]),a=d.ref(""),o=d.reactive({active:!1,items:[],positions:{left:0,top:0}}),c=d.computed(()=>o.items.filter(l=>l.key==null||e.features.includes(l.key)));e.emitter.on("vf-context-selected",l=>{r.value=l});const i={newfolder:{key:_e.NEW_FOLDER,title:()=>t("New Folder"),action:()=>e.modal.open(Yn)},selectAll:{title:()=>t("Select All"),action:()=>e.dragSelect.selectAll()},pinFolder:{title:()=>t("Pin Folder"),action:()=>{e.pinnedFolders=e.pinnedFolders.concat(r.value),e.requester.pinFolder(r.value)}},unpinFolder:{title:()=>t("Unpin Folder"),action:()=>{e.pinnedFolders=e.pinnedFolders.filter(l=>{const f=r.value.find(m=>m.path===l.path);return e.requester.unpinFolder(f),!r.value.find(m=>m.path===l.path)})}},delete:{key:_e.DELETE,title:()=>t("Delete"),action:()=>{e.modal.open(Es,{items:r})}},refresh:{title:()=>t("Refresh"),action:()=>{e.emitter.emit("vf-fetch",{params:{q:"index",adapter:e.fs.adapter,path:e.fs.data.dirname}})}},preview:{key:_e.PREVIEW,title:()=>t("Preview"),action:()=>e.modal.open(rr,{adapter:e.fs.adapter,item:r.value[0]})},open:{title:()=>t("Open"),action:()=>{e.emitter.emit("vf-search-exit"),e.emitter.emit("vf-fetch",{params:{q:"index",adapter:e.fs.adapter,path:r.value[0].path}})}},openDir:{title:()=>t("Open containing folder"),action:()=>{e.emitter.emit("vf-search-exit"),e.emitter.emit("vf-fetch",{params:{q:"index",adapter:e.fs.adapter,path:r.value[0].dir}})}},download:{key:_e.DOWNLOAD,link:d.computed(()=>e.requester.getDownloadUrl(e.fs.adapter,r.value[0])),title:()=>t("Download"),action:()=>{}},archive:{key:_e.ARCHIVE,title:()=>t("Archive"),action:()=>e.modal.open(sr,{items:r})},unarchive:{key:_e.UNARCHIVE,title:()=>t("Unarchive"),action:()=>e.modal.open(er,{items:r})},rename:{key:_e.RENAME,title:()=>t("Rename"),action:()=>e.modal.open($s,{items:r})}},u=l=>{e.emitter.emit("vf-contextmenu-hide"),l.action()};e.emitter.on("vf-search-query",({newQuery:l})=>{a.value=l}),e.emitter.on("vf-contextmenu-show",({event:l,items:f,target:m=null})=>{if(o.items=[],a.value)if(m)o.items.push(i.openDir),e.emitter.emit("vf-context-selected",[m]);else return;else!m&&!a.value?(o.items.push(i.refresh),o.items.push(i.selectAll),o.items.push(i.newfolder),e.emitter.emit("vf-context-selected",[])):f.length>1&&f.some(v=>v.path===m.path)?(o.items.push(i.refresh),o.items.push(i.archive),o.items.push(i.delete),e.emitter.emit("vf-context-selected",f)):(m.type==="dir"?(o.items.push(i.open),e.pinnedFolders.findIndex(v=>v.path===m.path)!==-1?o.items.push(i.unpinFolder):o.items.push(i.pinFolder)):(o.items.push(i.preview),o.items.push(i.download)),o.items.push(i.rename),m.mime_type==="application/zip"?o.items.push(i.unarchive):o.items.push(i.archive),o.items.push(i.delete),e.emitter.emit("vf-context-selected",[m]));_(l)}),e.emitter.on("vf-contextmenu-hide",()=>{o.active=!1});const _=l=>{const f=e.dragSelect.area.value,m=e.root.getBoundingClientRect(),v=f.getBoundingClientRect();let h=l.clientX-m.left,p=l.clientY-m.top;o.active=!0,d.nextTick(()=>{var k;const C=(k=s.value)==null?void 0:k.getBoundingClientRect();let $=(C==null?void 0:C.height)??0,B=(C==null?void 0:C.width)??0;h=v.right-l.pageX+window.scrollX<B?h-B:h,p=v.bottom-l.pageY+window.scrollY<$?p-$:p,o.positions={left:h+"px",top:p+"px"}})};return{__sfc:!0,app:e,t,contextmenu:s,selectedItems:r,searchQuery:a,context:o,filteredItems:c,menuItems:i,run:u,showContextMenu:_}}};var Wc=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("ul",{directives:[{name:"show",rawName:"v-show",value:s.context.active,expression:"context.active"}],ref:"contextmenu",staticClass:"vuefinder__context-menu",style:s.context.positions},e._l(s.filteredItems,function(r){return t("li",{key:r.title(),staticClass:"vuefinder__context-menu__item"},[r.link?[t("a",{staticClass:"vuefinder__context-menu__link",attrs:{target:"_blank",href:r.link,download:r.link},on:{click:function(a){return s.app.emitter.emit("vf-contextmenu-hide")}}},[t("span",[e._v(e._s(r.title()))])])]:[t("div",{staticClass:"vuefinder__context-menu__action",on:{click:function(a){return s.run(r)}}},[t("span",[e._v(e._s(r.title()))])])]],2)}),0)},Kc=[],Yc=W(zc,Wc,Kc);const Qc=Yc.exports;var Xc=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"}})])};const or={render:Xc};var Zc=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-5 w-5 stroke-slate-500 cursor-pointer",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"2",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0"}})])};const Jc={render:Zc},el={__name:"Statusbar",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,{setStore:s}=e.storage,r=e.dragSelect,a=()=>{e.emitter.emit("vf-search-exit"),e.emitter.emit("vf-fetch",{params:{q:"index",adapter:e.fs.adapter}}),s("adapter",e.fs.adapter)},o=d.ref("");e.emitter.on("vf-search-query",({newQuery:i})=>{o.value=i});const c=d.computed(()=>{const i=e.selectButton.multiple?r.getSelected().length>0:r.getSelected().length===1;return e.selectButton.active&&i});return{__sfc:!0,app:e,t,setStore:s,ds:r,handleStorageSelect:a,searchQuery:o,isSelectButtonActive:c,ModalAbout:jn,StorageSVG:or,AboutSVG:Jc}}};var tl=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{staticClass:"vuefinder__status-bar__wrapper"},[t("div",{staticClass:"vuefinder__status-bar__storage"},[t("div",{staticClass:"vuefinder__status-bar__storage-container",attrs:{title:s.t("Storage")}},[t("div",{staticClass:"vuefinder__status-bar__storage-icon"},[t(s.StorageSVG)],1),t("select",{directives:[{name:"model",rawName:"v-model",value:s.app.fs.adapter,expression:"app.fs.adapter"}],staticClass:"vuefinder__status-bar__storage-select",attrs:{tabindex:"-1"},on:{change:[function(r){var a=Array.prototype.filter.call(r.target.options,function(o){return o.selected}).map(function(o){var c="_value"in o?o._value:o.value;return c});e.$set(s.app.fs,"adapter",r.target.multiple?a:a[0])},s.handleStorageSelect]}},e._l(s.app.fs.data.storages,function(r){return t("option",{domProps:{value:r}},[e._v(" "+e._s(r)+" ")])}),0)]),t("div",{staticClass:"vuefinder__status-bar__info"},[s.searchQuery.length?t("span",[e._v(e._s(s.app.fs.data.files.length)+" items found. ")]):e._e(),t("span",{staticClass:"vuefinder__status-bar__selected-count"},[e._v(e._s(s.app.dragSelect.getCount()>0?s.t("%s item(s) selected.",s.app.dragSelect.getCount()):""))])])]),t("div",{staticClass:"vuefinder__status-bar__actions"},[s.app.selectButton.active?t("button",{staticClass:"vf-btn py-0 vf-btn-primary",class:{disabled:!s.isSelectButtonActive},attrs:{disabled:!s.isSelectButtonActive},on:{click:function(r){s.app.selectButton.click(s.ds.getSelected(),r)}}},[e._v(e._s(s.t("Select")))]):e._e(),t("span",{staticClass:"vuefinder__status-bar__about",attrs:{title:s.t("About")},on:{click:function(r){return s.app.modal.open(s.ModalAbout)}}},[t(s.AboutSVG)],1)])])},sl=[],nl=W(el,tl,sl);const rl=nl.exports;var al=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"text-neutral-500 fill-sky-500 stroke-gray-100/50 dark:stroke-slate-700/50 dark:fill-slate-500",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-width":"1.5",viewBox:"0 0 24 24"}},[t("path",{attrs:{"stroke-linecap":"round","stroke-linejoin":"round",d:"M3.75 9.776q.168-.026.344-.026h15.812q.176 0 .344.026m-16.5 0a2.25 2.25 0 0 0-1.883 2.542l.857 6a2.25 2.25 0 0 0 2.227 1.932H19.05a2.25 2.25 0 0 0 2.227-1.932l.857-6a2.25 2.25 0 0 0-1.883-2.542m-16.5 0V6A2.25 2.25 0 0 1 6 3.75h3.879a1.5 1.5 0 0 1 1.06.44l2.122 2.12a1.5 1.5 0 0 0 1.06.44H18A2.25 2.25 0 0 1 20.25 9v.776"}})])};const ir={render:al};var ol=function(){var e=this,t=e._self._c;return t("svg",{staticClass:"h-5 w-5",attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",viewBox:"0 0 24 24"}},[t("path",{attrs:{fill:"none",d:"M0 0h24v24H0z"}}),t("path",{attrs:{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2m3.6 5.2a1 1 0 0 0-1.4.2L12 10.333 9.8 7.4a1 1 0 1 0-1.6 1.2l2.55 3.4-2.55 3.4a1 1 0 1 0 1.6 1.2l2.2-2.933 2.2 2.933a1 1 0 0 0 1.6-1.2L13.25 12l2.55-3.4a1 1 0 0 0-.2-1.4"}})])};const il={render:ol};var cl=function(){var e=this,t=e._self._c;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"}},[t("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z"}}),t("path",{attrs:{d:"M15 12H9M12 9v6"}})])};const cr={render:cl};var ll=function(){var e=this,t=e._self._c;return t("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",viewBox:"0 0 24 24"}},[t("path",{attrs:{stroke:"none",d:"M0 0h24v24H0z"}}),t("path",{attrs:{d:"M9 12h6"}})])};const lr={render:ll};function dr(n,e){const t=n.findIndex(s=>s.path===e.path);t>-1?n[t]=e:n.push(e)}const dl={props:{adapter:{type:String,required:!0},path:{type:String,required:!0},value:{type:Boolean,default:!1}},components:{SquarePlusSVG:cr,SquareMinusSVG:lr,LoadingSVG:Ms},model:{prop:"value",event:"input"},setup(n,{emit:e}){const t=d.inject("ServiceContainer");t.i18n;const s=d.computed({get:()=>n.value,set:i=>e("input",i)}),r=d.ref(!1);d.watch(()=>s.value,()=>{var i;(i=o())!=null&&i.folders.length||c()});const a=()=>{s.value=!s.value},o=()=>t.treeViewData.find(i=>i.path===n.path),c=()=>{r.value=!0,t.requester.send({url:"",method:"get",params:{q:"subfolders",adapter:n.adapter,path:n.path}}).then(i=>{dr(t.treeViewData,{path:n.path,...i})}).catch(i=>{console.log(i)}).finally(()=>{r.value=!1})};return{opened:s,loading:r,getLoadedFolder:o,toggleIndicator:a}}};var ul=function(){var s;var e=this,t=e._self._c;return t("div",{staticClass:"vuefinder__folder-loader-indicator",on:{click:function(r){e.opened=!e.opened}}},[e.loading?t("LoadingSVG",{staticClass:"vuefinder__folder-loader-indicator--loading"}):t("div",{staticClass:"vuefinder__folder-loader-indicator--icon"},[e.opened&&((s=e.getLoadedFolder())!=null&&s.folders.length)?t("SquareMinusSVG",{staticClass:"vuefinder__folder-loader-indicator--minus"}):e._e(),e.opened?e._e():t("SquarePlusSVG",{staticClass:"vuefinder__folder-loader-indicator--plus"})],1)],1)},_l=[],vl=W(dl,ul,_l);const ur=vl.exports,fl={__name:"TreeSubfolderList",props:{adapter:{type:String,required:!0},path:{type:String,required:!0}},setup(n){const e=n,t=d.inject("ServiceContainer"),s=d.reactive({}),r=d.ref(null);d.onMounted(()=>{e.path===e.adapter+"://"&&Me(r.value,{scrollbars:{theme:"vf-theme-dark dark:vf-theme-light"}})});const a=d.computed(()=>{var o;return((o=t.treeViewData.find(c=>c.path===e.path))==null?void 0:o.folders)||[]});return{__sfc:!0,app:t,showSubFolders:s,props:e,parentSubfolderList:r,treeSubFolders:a,FolderSVG:Nt,OpenFolderSVG:ir,FolderLoaderIndicator:ur}}};var pl=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("ul",{ref:"parentSubfolderList",staticClass:"vuefinder__treesubfolderlist__container"},e._l(s.treeSubFolders,function(r,a){return t("li",{key:r.path,staticClass:"vuefinder__treesubfolderlist__item"},[t("div",{staticClass:"vuefinder__treesubfolderlist__item-content"},[t("div",{staticClass:"vuefinder__treesubfolderlist__item-toggle"},[t(s.FolderLoaderIndicator,{attrs:{adapter:e.adapter,path:r.path},model:{value:s.showSubFolders[r.path],callback:function(o){e.$set(s.showSubFolders,r.path,o)},expression:"showSubFolders[item.path]"}})],1),t("div",{staticClass:"vuefinder__treesubfolderlist__item-link",attrs:{title:r.path},on:{click:function(o){return s.app.emitter.emit("vf-fetch",{params:{q:"index",adapter:s.props.adapter,path:r.path}})}}},[t("div",{staticClass:"vuefinder__treesubfolderlist__item-icon"},[s.app.fs.path===r.path?t(s.OpenFolderSVG):t(s.FolderSVG)],1),t("div",{staticClass:"vuefinder__treesubfolderlist__item-text",class:{"vuefinder__treesubfolderlist__item-text--active":s.app.fs.path===r.path}},[e._v(" "+e._s(r.basename)+" ")])])]),t("div",{staticClass:"vuefinder__treesubfolderlist__subfolder"},[t("TreeSubfolderList",{directives:[{name:"show",rawName:"v-show",value:s.showSubFolders[r.path],expression:"showSubFolders[item.path]"}],attrs:{adapter:s.props.adapter,path:r.path}})],1)])}),0)},ml=[],hl=W(fl,pl,ml);const gl=hl.exports,bl={__name:"TreeStorageItem",props:{storage:{type:String,required:!0}},setup(n){const e=n,t=d.inject("ServiceContainer"),s=d.ref(!1);return{__sfc:!0,app:t,showSubFolders:s,props:e,StorageSVG:or,FolderLoaderIndicator:ur,TreeSubfolderList:gl}}};var wl=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",[t("div",{staticClass:"vuefinder__treestorageitem__header",on:{click:function(r){s.showSubFolders=!s.showSubFolders}}},[t("div",{staticClass:"vuefinder__treestorageitem__info",class:e.storage===s.app.fs.adapter?"vuefinder__treestorageitem__info--active":""},[t("div",{staticClass:"vuefinder__treestorageitem__icon",class:e.storage===s.app.fs.adapter?"vuefinder__treestorageitem__icon--active":""},[t(s.StorageSVG)],1),t("div",[e._v(e._s(e.storage))])]),t("div",{staticClass:"vuefinder__treestorageitem__loader"},[t(s.FolderLoaderIndicator,{attrs:{adapter:e.storage,path:e.storage+"://"},model:{value:s.showSubFolders,callback:function(r){s.showSubFolders=r},expression:"showSubFolders"}})],1)]),s.showSubFolders?t(s.TreeSubfolderList,{staticClass:"vuefinder__treestorageitem__subfolder",attrs:{adapter:e.storage,path:e.storage+"://"}}):e._e()],1)},yl=[],Cl=W(bl,wl,yl);const Sl=Cl.exports,xl={name:"FolderIndicator",components:{SquarePlusSVG:cr,SquareMinusSVG:lr},props:{value:{type:Boolean,required:!0}},methods:{updateValue(n){this.$emit("input",n)}}};var kl=function(){var e=this,t=e._self._c;return t("div",{staticClass:"vuefinder__folder-indicator"},[t("div",{staticClass:"vuefinder__folder-indicator--icon"},[e.value?t("SquareMinusSVG",{staticClass:"vuefinder__folder-indicator--minus"}):e._e(),e.value?e._e():t("SquarePlusSVG",{staticClass:"vuefinder__folder-indicator--plus"})],1)])},El=[],$l=W(xl,kl,El);const Ml=$l.exports,Al={__name:"TreeView",setup(n){const e=d.inject("ServiceContainer"),{t}=e.i18n,{getStore:s,setStore:r}=e.storage,a=d.ref(190),o=d.ref(s("pinned-folders-opened",!0));d.watch(o,_=>r("pinned-folders-opened",_));const c=_=>{e.pinnedFolders=e.pinnedFolders.filter(l=>l.path!==_.path),e.requester.unpinFolder(_),e.storage.setStore("pinned-folders",e.pinnedFolders)},i=_=>{const l=_.clientX,f=_.target.parentElement,m=f.getBoundingClientRect().width;f.classList.remove("transition-[width]"),f.classList.add("transition-none");const v=p=>{a.value=m+p.clientX-l,a.value<50&&(a.value=0,e.showTreeView=!1),a.value>50&&(e.showTreeView=!0)},h=()=>{const p=f.getBoundingClientRect();a.value=p.width,f.classList.add("transition-[width]"),f.classList.remove("transition-none"),window.removeEventListener("mousemove",v),window.removeEventListener("mouseup",h)};window.addEventListener("mousemove",v),window.addEventListener("mouseup",h)},u=d.ref(null);return d.onMounted(()=>{Me(u.value,{overflow:{x:"hidden"},scrollbars:{theme:"vf-theme-dark dark:vf-theme-light"}})}),d.watch(e.fs.data,(_,l)=>{const f=_.files.filter(m=>m.type==="dir");dr(e.treeViewData,{path:e.fs.path,folders:f.map(m=>({adapter:m.storage,path:m.path,basename:m.basename}))})}),{__sfc:!0,app:e,t,getStore:s,setStore:r,treeViewWidth:a,pinnedFoldersOpened:o,removeFavorite:c,handleMouseDown:i,treeViewScrollElement:u,FolderSVG:Nt,OpenFolderSVG:ir,PinSVG:ar,XBoxSVG:il,TreeStorageItem:Sl,FolderIndicator:Ml}}};var Tl=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return s.app.showTreeView?t("div",{staticClass:"vuefinder__treeview__container",style:s.app.showTreeView?"min-width:100px;max-width:75%; width: "+s.treeViewWidth+"px":"width: 0"},[t("div",{ref:"treeViewScrollElement",staticClass:"vuefinder__treeview__scroll"},[t("div",{staticClass:"vuefinder__treeview__header"},[t("div",{staticClass:"vuefinder__treeview__pinned-toggle",on:{click:function(r){s.pinnedFoldersOpened=!s.pinnedFoldersOpened}}},[t("div",{staticClass:"vuefinder__treeview__pinned-label"},[t(s.PinSVG,{staticClass:"vuefinder__treeview__pin-icon"}),t("div",{staticClass:"vuefinder__treeview__pin-text text-nowrap"},[e._v(" "+e._s(s.t("Pinned Folders"))+" ")])],1),t(s.FolderIndicator,{model:{value:s.pinnedFoldersOpened,callback:function(r){s.pinnedFoldersOpened=r},expression:"pinnedFoldersOpened"}})],1),s.pinnedFoldersOpened?t("ul",{staticClass:"vuefinder__treeview__pinned-list"},[e._l(s.app.pinnedFolders,function(r){return t("li",{staticClass:"vuefinder__treeview__pinned-item"},[t("div",{staticClass:"vuefinder__treeview__pinned-folder",on:{click:function(a){return s.app.emitter.emit("vf-fetch",{params:{q:"index",adapter:r.storage,path:r.path}})}}},[s.app.fs.path!==r.path?t(s.FolderSVG,{staticClass:"vuefinder__treeview__folder-icon"}):e._e(),s.app.fs.path===r.path?t(s.OpenFolderSVG,{staticClass:"vuefinder__treeview__open-folder-icon"}):e._e(),t("div",{staticClass:"vuefinder__treeview__folder-name text-nowrap",class:{"vuefinder__treeview__folder-name--active":s.app.fs.path===r.path},attrs:{title:r.path}},[e._v(" "+e._s(r.basename)+" ")])],1),t("div",{staticClass:"vuefinder__treeview__remove-favorite",on:{click:function(a){return s.removeFavorite(r)}}},[t(s.XBoxSVG,{staticClass:"vuefinder__treeview__remove-icon"})],1)])}),s.app.pinnedFolders.length?e._e():t("li",[t("div",{staticClass:"vuefinder__treeview__no-pinned"},[e._v(" "+e._s(s.t("No folders pinned"))+" ")])])],2):e._e()]),t("div",{staticStyle:{display:"flex","flex-direction":"column"}},e._l(s.app.fs.data.storages,function(r){return t("div",{staticClass:"vuefinder__treeview__storage"},[t(s.TreeStorageItem,{attrs:{storage:r}})],1)}),0)]),t("div",{staticClass:"vuefinder__treeview__resize-handle",class:(s.app.showTreeView,""),on:{mousedown:s.handleMouseDown}})]):t("div",{staticClass:"vuefinder__treeview__overlay",class:s.app.showTreeView?"vuefinder__treeview__backdrop":"hidden",on:{click:function(r){s.app.showTreeView=!s.app.showTreeView}}})},Fl=[],Vl=W(Al,Tl,Fl);const Dl=Vl.exports,Ol={__name:"VueFinder",props:{id:{type:String,default:"vf"},request:{type:[String,Object],required:!0},persist:{type:Boolean,default:!1},path:{type:String,default:""},features:{type:[Array,Boolean],default:!0},debug:{type:Boolean,default:!1},theme:{type:String,default:"system"},locale:{type:String,default:null},maxHeight:{type:String,default:"600px"},maxFileSize:{type:String,default:"10mb"},fullScreen:{type:Boolean,default:!1},showTreeView:{type:Boolean,default:!1},pinnedFolders:{type:Array,default:()=>[]},showThumbnails:{type:Boolean,default:!0},selectButton:{type:Object,default(n){return{active:!1,multiple:!1,click:e=>{},...n}}}},emits:["select"],setup(n,{emit:e}){const t=n,{proxy:s}=d.getCurrentInstance(),r=Pa(t,s.$VueFinderOptions);d.provide("ServiceContainer",r);const{setStore:a}=r.storage,o=d.ref(null);r.root=o;const c=r.dragSelect;wo(r);const i=_=>{Object.assign(r.fs.data,_),c.clearSelection(),c.refreshSelection()};let u;return r.emitter.on("vf-fetch-abort",()=>{u.abort(),r.fs.loading=!1}),r.emitter.on("vf-fetch",({params:_,body:l=null,onSuccess:f=null,onError:m=null,noCloseModal:v=!1})=>{["index","search"].includes(_.q)&&(u&&u.abort(),r.fs.loading=!0),u=new AbortController;const h=u.signal;r.requester.send({url:"",method:_.m||"get",params:_,body:l,abortSignal:h}).then(p=>{r.fs.adapter=p.adapter,r.persist&&(r.fs.path=p.dirname,a("path",r.fs.path)),["index","search"].includes(_.q)&&(r.fs.loading=!1),v||r.modal.close(),i(p),f&&f(p)}).catch(p=>{console.error(p),m&&m(p)})}),d.onMounted(()=>{let _={};r.fs.path.includes("://")&&(_={adapter:r.fs.path.split("://")[0],path:r.fs.path}),r.emitter.emit("vf-fetch",{params:{q:"index",adapter:r.fs.adapter,..._}}),c.onSelect(l=>{e("select",l)})}),{__sfc:!0,emit:e,props:t,proxy:s,app:r,setStore:a,root:o,ds:c,updateItems:i,controller:u,Toolbar:ii,Breadcrumb:Ri,Explorer:jc,ContextMenu:Qc,Statusbar:rl,TreeView:Dl}}};var Ll=function(){var e=this,t=e._self._c,s=e._self._setupProxy;return t("div",{ref:"root",staticClass:"vuefinder",attrs:{tabindex:"0"}},[t("div",{class:s.app.theme.actualValue},[t("div",{staticClass:"vuefinder__main__container",class:s.app.fullScreen?"vuefinder__main__fixed":"vuefinder__main__relative",style:s.app.fullScreen?"":"max-height: "+e.maxHeight,on:{mousedown:function(r){return s.app.emitter.emit("vf-contextmenu-hide")},touchstart:function(r){return s.app.emitter.emit("vf-contextmenu-hide")}}},[t(s.Toolbar),t(s.Breadcrumb),t("div",{staticClass:"vuefinder__main__content"},[t(s.TreeView),t(s.Explorer)],1),t(s.Statusbar)],1),t("Transition",{attrs:{name:"fade"}},[s.app.modal.visible?t(s.app.modal.type,{tag:"Component"}):e._e()],1),t(s.ContextMenu)],1)])},Rl=[],Il=W(Ol,Ll,Rl);const _r=Il.exports,Bl={install(n,e={}){e.i18n=e.i18n??{};let[t]=Object.keys(e.i18n);e.locale=e.locale??t??"en",n.prototype.$VueFinderOptions=e,n.component("VueFinder",_r)}};exports.VueFinder=_r;exports.default=Bl;
